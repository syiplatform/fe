(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{"101c":function(e,t,a){},c2bd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",[a("div",{staticClass:"text-h5 q-mb-md"},[e._v("\n      "+e._s(e.$t("metrics_page_title"))+"\n    ")]),a("div",{staticClass:"row col-xs-12 q-mb-md"},[a("div",{staticClass:"col-xs-12 q-pr-xs col-md-6"},[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.periodTypeOptions,"emit-value":"","map-options":"","options-dense":"",label:e.$t("metrics_period_type_label")},model:{value:e.periodType,callback:function(t){e.periodType=t},expression:"periodType"}})],1),a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",debounce:"500",label:e.$t("metrics_page_size")},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}})],1),a("div",{staticClass:"col-xs-12 q-my-sm"},[a("q-btn",{staticClass:"shadow-glow q-py-xs",attrs:{rounded:"",label:e.$t("metrics_filter")},on:{click:e.fetch}})],1)]),a("div",{staticClass:"row col-xs-12"},[a("div",{staticClass:"col-xs-4 q-pr-sm"},[a("div",[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.dataSourceTypeOptions,"emit-value":"","map-options":"","options-dense":""},model:{value:e.leftDataSource,callback:function(t){e.leftDataSource=t},expression:"leftDataSource"}})],1),a("div",[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.periodOptions,"emit-value":"","map-options":"","options-dense":"",label:e.$t("metrics_period_type_label")},model:{value:e.leftStartDate,callback:function(t){e.leftStartDate=t},expression:"leftStartDate"}})],1),a("div",[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.periodOptions,"emit-value":"","map-options":"","options-dense":"",label:e.$t("metrics_period_end_label")},model:{value:e.leftEndDate,callback:function(t){e.leftEndDate=t},expression:"leftEndDate"}})],1),e._l(e.leftMetricsPagedListItems,(function(t){return a("div",{key:"l"+t.period,staticClass:"metric-item q-py-xs"},[a("span",{staticClass:"metric-period"},[e._v(e._s(t.period))]),a("span",{staticClass:"metric-value",class:t.count>0?"positive":"negative"},[e._v("\n            "+e._s(e.formatValue(t.count))+"\n          ")])])}))],2),a("div",{staticClass:"col-xs-4"},[a("div",[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.dataSourceTypeOptions,"emit-value":"","map-options":"","options-dense":""},model:{value:e.rightDataSource,callback:function(t){e.rightDataSource=t},expression:"rightDataSource"}})],1),a("div",[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.periodOptions,"emit-value":"","map-options":"","options-dense":"",label:e.$t("metrics_period_start_label")},model:{value:e.rightStartDate,callback:function(t){e.rightStartDate=t},expression:"rightStartDate"}})],1),a("div",[a("q-select",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",options:e.periodOptions,"emit-value":"","map-options":"","options-dense":"",label:e.$t("metrics_period_end_label")},model:{value:e.rightEndDate,callback:function(t){e.rightEndDate=t},expression:"rightEndDate"}})],1),e._l(e.rightMetricsPagedListItems,(function(t){return a("div",{key:"r"+t.period,staticClass:"metric-item q-py-xs"},[a("span",{staticClass:"metric-period"},[e._v(e._s(t.period))]),a("span",{staticClass:"metric-value",class:t.count>0?"positive":"negative"},[e._v("\n            "+e._s(e.formatValue(t.count))+"\n          ")])])}))],2)])])])},r=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("96cf"),a("c973")),s=a.n(n),o=a("9523"),l=a.n(o),c=a("c1df"),u=a.n(c),d=a("2f62"),p=a("ee47");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={name:"Metrics",mixins:[p["a"]],components:{},data:function(){return{loading:!1,periodType:"quarter",pageSize:50,pageNumber:1,leftDataSource:"budget_revenue_amount",rightDataSource:"budget_expenses_amount",minDate:u()("2019-06-24"),maxDate:u()(),leftStartDate:u()().add(-3,"year"),rightStartDate:u()().add(-3,"year"),leftEndDate:u()(),rightEndDate:u()(),tariff:"",tariffDays:"",tariffPaymentStatus:"",tariffWithPromocode:null,tariffPromocode:null,tariffWithBonus:null,tariffOptions:[{value:"large_1",label:"large_1"},{value:"medium_1",label:"medium_1"}],tariffPeriodOptions:[{value:30,label:30},{value:90,label:90},{value:180,label:180},{value:365,label:365}],tariffPaymentStatusOptions:[{value:"succeeded",label:"succeeded"},{value:"canceled",label:"canceled"},{value:"pending",label:"pending"}],periodTypeOptions:[{value:"year",label:this.$t("metrics_period_type_year")},{value:"quarter",label:this.$t("metrics_period_type_quarter")},{value:"month",label:this.$t("metrics_period_type_month")},{value:"week",label:this.$t("metrics_period_type_week")},{value:"day",label:this.$t("metrics_period_type_day")}],dataSourceTypeOptions:[{value:"users",label:this.$t("metrics_users")},{value:"companies",label:this.$t("metrics_companies")},{value:"appointments",label:this.$t("metrics_appointments")},{value:"clients",label:this.$t("metrics_clients")},{value:"payment_count",label:this.$t("metrics_payment_count")},{value:"payment_amount",label:this.$t("metrics_payment_amount")},{value:"budget_revenue_amount",label:this.$t("metrics_budget_revenue_amount")},{value:"budget_expenses_amount",label:this.$t("metrics_budget_expenses_amount")},{value:"budget_tariff_purchase_count",label:this.$t("metrics_budget_tariff_purchase_count")},{value:"budget_tariff_purchase_amount",label:this.$t("metrics_budget_tariff_purchase_amount")},{value:"budget_landing_configuration_count",label:this.$t("metrics_budget_landing_configuration_count")},{value:"budget_landing_configuration_amount",label:this.$t("metrics_budget_landing_configuration_amount")},{value:"budget_advertising_count",label:this.$t("metrics_budget_advertising_count")},{value:"budget_advertising_amount",label:this.$t("metrics_budget_advertising_amount")},{value:"feedback",label:this.$t("metrics_feedback")}]}},computed:h({},Object(d["c"])("product",["leftMetricsPagedListItems","rightMetricsPagedListItems"]),{periodOptions:function(){switch(this.periodType){case"year":return this.whileMethod("year","YYYY");case"quarter":return this.whileMethodQuarter();case"month":return this.whileMethod("month","YYYY-MM");case"week":return this.whileMethodWeek();default:break}return[]}}),methods:h({whileMethod:function(e,t){var a=[],i=this.minDate;while(i.isSameOrBefore(this.maxDate.clone().add("1",e),e))a.push({label:i.format(t),value:i}),i=i.clone().add("1",e).startOf(e);return a},whileMethodQuarter:function(){var e=[],t=u()("2019-04-01");while(t.isSameOrBefore(this.maxDate.clone().add("1","month"),"month"))e.push({label:"".concat(t.format("YYYY"),"-Q").concat(t.quarter()),value:t}),t=t.clone().add("3","month").startOf("month");return e},whileMethodWeek:function(){var e=[],t=u()("2019-06-24");while(t.isSameOrBefore(this.maxDate.clone().add("7","days"),"month"))e.push({label:"".concat(t.format("YYYY"),"-W").concat(t.week()),value:t}),t=t.clone().add("7","day");return e},formatValue:function(e){return e?e.toLocaleString():""}},Object(d["b"])("product",["fetchLeftMetricsPagedList","fetchRightMetricsPagedList"]),{fetch:function(){var e=s()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchGridData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchGridData:function(){var e=s()(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t={dataSourceType:this.leftDataSource,periodType:this.periodType,pageSize:this.pageSize,pageNumber:this.pageNumber,periodStartDate:this.leftStartDate,periodEndDate:this.leftEndDate},a={dataSourceType:this.rightDataSource,periodType:this.periodType,pageSize:this.pageSize,pageNumber:this.pageNumber,periodStartDate:this.rightStartDate,periodEndDate:this.rightEndDate},e.next=5,this.fetchLeftMetricsPagedList({variables:t});case 5:return e.next=7,this.fetchRightMetricsPagedList({variables:a});case 7:this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onRequest:function(){var e=s()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchGridData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},g=f,b=(a("fbe2"),a("42e1")),_=Object(b["a"])(g,i,r,!1,null,null,null);t["default"]=_.exports},fbe2:function(e,t,a){"use strict";var i=a("101c"),r=a.n(i);r.a}}]);