(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"3ae0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"row items-stretch tariff-page"},[t.companyId&&t.currentUserIsSuperAdmin?a("q-card",{staticClass:"col-xs-12 border-radius bg-white q-mb-sm",class:t.$q.screen.lt.sm?"q-pa-md":"q-pa-lg"},[a("div",{staticClass:"row col-xs-12"},[a("q-field",{staticClass:"col-xs-12 col-sm-6",class:t.$q.screen.lt.sm?"":"q-pr-lg",attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("tariff_current"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n              "+t._s(t.$t("tariff_current"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t.isCurrentTrial?a("q-chip",{staticClass:"q-px-xs text-grey-2 absolute trial",attrs:{color:"warning",dense:""}},[t._v("\n                "+t._s(t.$t("tariff_is_trial_period"))+"\n              ")]):t._e(),t._v("\n              "+t._s(t.currentTariffText)+"\n            ")],1)]},proxy:!0}],null,!1,807905868)}),a("q-field",{directives:[{name:"show",rawName:"v-show",value:!t.isCurrentFree,expression:"!isCurrentFree"}],staticClass:"col-xs-12 col-sm-6",class:t.$q.screen.lt.sm?"":"q-pl-lg",attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("tariff_expiration_date"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n            "+t._s(t.$t("tariff_expiration_date"))+"\n          ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n            "+t._s(t._f("dateTimeText")(t.companyDetails.tariffExpirationDate))+"\n          ")])]},proxy:!0}],null,!1,2074307979)}),a("q-field",{staticClass:"col-xs-12 col-sm-6",class:t.$q.screen.lt.sm?"":"q-pr-lg",attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("tariff_superadmin_action"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n            "+t._s(t.$t("tariff_superadmin_action"))+"\n          ")])]},proxy:!0},{key:"control",fn:function(){return[a("q-btn",{attrs:{color:"negative"},on:{click:t.adminUpdateTariff}},[t._v("\n              "+t._s(t.$t("tariff_activate_long_trial"))+"\n            ")])]},proxy:!0}],null,!1,3498844889)})],1)]):t._e(),a("div",{staticClass:"col-xs-12",class:t.$q.screen.lt.sm?"q-py-sm":"q-pa-lg"},[a("div",{staticClass:"row justify-between q-pb-sm q-px-xs"},[t.showSaleBanner?a("q-banner",{staticClass:"col-xs-12 q-mb-md bg-deep-orange text-grey-12 border-radius",scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"schedule",color:"grey-12"}})]},proxy:!0}],null,!1,3780329452)},[a("div",{domProps:{innerHTML:t._s(t.$t("tariff_promo_text"))}})]):t._e(),a("h1",{staticClass:"col-xs-12 col-sm q-px-md text-h4 text-primary",class:t.$q.screen.lt.sm?"text-center q-py-xs":""},[t._v("\n        "+t._s(t.$t(t.isAuthenticated?"tariff_header_project":"tariff_header"))+"\n        "),a("span",[t._v(t._s(t.companyDetails.name))])]),a("div",{staticClass:"row col-xs-12 col-sm-3 text-center items-center"},[a("div",{staticClass:"col-xs-12"},[a("q-btn-toggle",{staticClass:"days-toggle default-font",class:t.$q.screen.lt.sm?"q-mt-sm":"",attrs:{spread:"",rounded:"",color:"primary","toggle-color":"secondary",options:[{label:t.$t("tariff_pay_days_30"),value:30},{value:180,slot:"halfayear"},{value:365,slot:"year"}]},scopedSlots:t._u([{key:"halfayear",fn:function(){return[a("div",{staticClass:"q-py-md row justify-center"},[t._v("\n                "+t._s(t.$t("tariff_pay_days_180"))+"\n                "),a("div",{staticClass:"q-pl-sm"},[a("q-badge",{attrs:{outline:""}},[t._v("\n                    "+t._s(t.defaultDiscount[180])+"\n                  ")])],1)])]},proxy:!0},{key:"year",fn:function(){return[a("div",{staticClass:"q-py-md row justify-center"},[t._v("\n                "+t._s(t.$t("tariff_pay_days_365"))+"\n                "),a("div",{staticClass:"q-pl-sm"},[a("q-badge",{attrs:{outline:""}},[t._v("\n                    "+t._s(t.defaultDiscount[365])+"\n                  ")])],1)]),a("q-badge",{attrs:{transparent:"",floating:"",color:"deep-orange"}},[t._v("\n                "+t._s(t.$t("tariff_pay_days_offer"))+"\n              ")])]},proxy:!0}]),model:{value:t.payDays,callback:function(e){t.payDays=e},expression:"payDays"}})],1),t.showPromoCode?a("div",{staticClass:"row col-xs-12 q-py-sm"},[a("q-input",{staticClass:"col-xs-12 promo-field",attrs:{outlined:"",rounded:"",label:t.$t("tariff_promocode"),readonly:t.isPromocodeApplied,color:"secondary"},on:{input:t.changePromoCode},scopedSlots:t._u([{key:"append",fn:function(){return[t.isPromocodeApplied?a("q-btn",{staticClass:"col-xs-auto",attrs:{rounded:"",unelevated:"",icon:"clear"},on:{click:t.cancelPromocode}}):a("q-btn",{staticClass:"col-xs-auto",attrs:{rounded:"",icon:"done",unelevated:"",color:"secondary"},on:{click:t.applyPromocode}})]},proxy:!0}],null,!1,814530137),model:{value:t.promocode,callback:function(e){t.promocode=e},expression:"promocode"}})],1):t._e()])],1),a("div",{staticClass:"row",class:t.$q.screen.lt.sm?"q-py-xs":"q-px-xs"},[a("q-table",{staticClass:"col-xs-12 border-rounded overflow-hidden bg-transparent",class:{"tariff-table":!t.$q.screen.lt.sm,"tariff-table-mobile":t.$q.screen.lt.sm,"is-pro-accent":t.isProAccent,"is-max-accent":t.isMaxAccent},attrs:{flat:"",bordered:!1,data:t.data,columns:t.columns,"hide-bottom":!0,pagination:t.pagination,separator:"none"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-th",{staticClass:"tariff-header-container desktop-only"}),a("q-th",{staticClass:"tariff-header-container tariff-header-container-free overflow-hidden"},[a("div",{staticClass:"tariff-card tariff-card-free relative-position overflow-hidden"},[t.isCurrentFree?a("q-badge",{staticClass:"sticker q-pb-xs ",attrs:{color:"secondary",floating:""}},[t._v("\n                  "+t._s(t.$t("tariff_badge"))+"\n                ")]):t._e(),a("h2",{staticClass:"tariff-title text-center text-primary q-ma-none",class:t.$q.screen.lt.sm?"q-pt-lg":"q-pt-sm"},[t._v("\n                    "+t._s(t.$t("free"))+"\n                ")]),a("div",{staticClass:"text-secondary q-px-md text-weight-bold text-h6 text-center\n                    default-font"},[t._v("\n                  "+t._s(t.freePrice)+" "+t._s(t.currency1LetterAbbr)+"\n                ")])],1)]),a("q-th",{staticClass:"tariff-header-container tariff-header-container-pro overflow-hidden"},[a("div",{staticClass:"relative-position tariff-card tariff-card-pro overflow-hidden"},[a("h2",{staticClass:"tariff-title q-pt-sm text-center text-primary relative-position q-ma-none",class:t.$q.screen.lt.sm?"q-pt-lg":"q-pt-sm"},[t._v("\n                  "+t._s(t.$t("medium_1"))+"\n                ")]),t.getDiscountValue(t.tariffs.Medium1)?a("q-badge",{staticClass:"sticker sale text-grey-1 default-font",class:[t.isCurrentMedium?"q-pb-xs":"q-pb-sm",t.showDiscount(t.tariffs.Medium1)?"text-grey-1":"text-grey-9"],attrs:{floating:"",color:t.showDiscount(t.tariffs.Medium1)?"red":"warning"}},[a("div",[t._v(t._s(t.getDiscountValue(t.tariffs.Medium1)))])]):t._e(),t.isCurrentMedium?a("q-badge",{staticClass:"sticker q-pb-xs default-font",attrs:{color:"secondary",floating:""}},[t._v("\n                  "+t._s(t.$t("tariff_badge"))+"\n                ")]):t._e(),a("div",{staticClass:"text-weight-grey-5 default-font",class:t.showDiscount(t.tariffs.Medium1)?"text-red":"text-secondary"},[a("div",{staticClass:"text-weight-bold text-h6"},[a("span",[t._v(t._s(t.medium1Price))]),a("span",{staticClass:"q-pl-xs"},[t._v("\n                      "+t._s(t.currency1LetterAbbr)+"/"+t._s(t.getPayDaysText(t.tariffs.Medium1))+"\n                    ")])]),t.showDiscount(t.tariffs.Medium1)?a("div",{staticClass:"text-weight-bold text-strike",class:{"text-body1":!t.$q.screen.lt.sm}},[a("span",[t._v(t._s(t.initialMedium1Price))]),a("span",{staticClass:"q-pl-xs"},[t._v("\n                      "+t._s(t.currency1LetterAbbr)+"/"+t._s(t.getPayDaysText(t.tariffs.Medium1))+"\n                    ")])]):t._e(),a("div",{class:{"text-body1":!t.$q.screen.lt.sm}},[a("span",{class:{invisible:!t.showMonthlyPrice()}},[t._v("\n                      "+t._s(t.getMonthFullPrice(t.medium1Price,"medium_1"))+"\n                    ")]),t.showSaleBanner?a("div",{staticClass:"row justify-center text-caption text-deep-orange q-pt-sm"},[a("timer",{attrs:{date:t.promoData.endDate,activeText:t.$t("increase_price_after"),inactiveText:"",inline:!0}}),a("div",{staticClass:"row items-center justify-center col-xs-12 text-center"},[a("div",{staticClass:"text-weight-light q-pr-xs"},[t._v("\n                              "+t._s(t.$t("tariff_promo_remaining_text"))+"\n                          ")]),a("div",{staticClass:"text-bold"},[t._v("\n                              "+t._s(t.tariffPromo.remaining)+"\n                          ")])])],1):t._e()])])],1)]),a("q-th",{staticClass:"tariff-header-container tariff-header-container-max overflow-hidden"},[a("div",{staticClass:"tariff-card tariff-card-max relative-position overflow-hidden"},[a("h2",{staticClass:"tariff-title q-pt-sm text-center text-primary relative-position q-ma-none",class:t.$q.screen.lt.sm?"q-pt-lg":"q-pt-sm"},[t._v("\n                  "+t._s(t.$t("large_1"))+"\n                ")]),t.getDiscountValue(t.tariffs.Large1)?a("q-badge",{staticClass:"sticker sale default-font",class:[t.isCurrentLarge?"q-pb-xs":"q-pb-sm",t.showDiscount(t.tariffs.Large1)?"text-grey-1":"text-grey-9"],attrs:{floating:"",color:t.showDiscount(t.tariffs.Large1)?"red":"warning"}},[a("div",[t._v(t._s(t.getDiscountValue(t.tariffs.Large1)))])]):t._e(),t.isCurrentLarge?a("q-badge",{staticClass:"sticker q-pb-xs default-font",attrs:{color:"secondary",floating:""}},[t._v("\n                  "+t._s(t.$t("tariff_badge"))+"\n                ")]):t._e(),a("div",{staticClass:"text-weight-grey-5 default-font",class:t.showDiscount(t.tariffs.Large1)?"text-red":"text-secondary"},[a("div",{staticClass:"text-weight-bold text-h6"},[a("span",[t._v(t._s(t.large1Price))]),a("span",{staticClass:"q-pl-xs"},[t._v("\n                      "+t._s(t.currency1LetterAbbr)+"/"+t._s(t.getPayDaysText(t.tariffs.Large1))+"\n                    ")])]),t.showDiscount(t.tariffs.Large1)?a("div",{staticClass:"text-weight-bold text-strike",class:{"text-body1":!t.$q.screen.lt.sm}},[a("span",[t._v(t._s(t.initialLarge1Price))]),a("span",{staticClass:"q-pl-xs"},[t._v("\n                      "+t._s(t.currency1LetterAbbr)+"/"+t._s(t.getPayDaysText(t.tariffs.Large1))+"\n                    ")])]):t._e(),a("div",{class:{"text-body1":!t.$q.screen.lt.sm}},[a("span",{class:{invisible:!t.showMonthlyPrice()}},[t._v("\n                      "+t._s(t.getMonthFullPrice(t.large1Price,t.tariffs.Large1))+"\n                    ")]),t.showSaleBanner?a("div",{staticClass:"text-caption text-deep-orange q-pt-sm"},[a("timer",{attrs:{date:t.promoData.endDate,activeText:t.$t("increase_price_after"),inactiveText:"",inline:!0}}),a("div",{staticClass:"row items-center justify-center col-xs-12 text-center"},[a("div",{staticClass:"text-weight-light q-pr-xs"},[t._v("\n                              "+t._s(t.$t("tariff_promo_remaining_text"))+"\n                          ")]),a("div",{staticClass:"text-bold"},[t._v("\n                              "+t._s(t.tariffPromo.remaining)+"\n                          ")])])],1):t._e()])])],1)])],1),a("q-tr",[a("q-th",{staticClass:"desktop-only"}),a("q-th",{staticClass:"tariff-card cell-free"},[t.isAuthenticated?t._e():a("div",{staticClass:"row"},[a("q-btn",{staticClass:"tariffs-btn-signup-free tariff-button col-xs-12 signup-button",attrs:{unelevated:"",rounded:"",color:"secondary",title:t.$t("navigation_open_public_templates"),to:{name:"public-templates-"+t.$q.lang.isoName}},on:{click:function(e){return t.clickTariffButton("signup-free",t.tariffs.Free1)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12"},[t._v(t._s(t.$t("signup_company_register_free_action")))])])]],2)],1)]),a("q-th",{staticClass:"tariff-card cell-pro"},[t.companyId||t.isAuthenticated?a("div",{staticClass:"row"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentFree||t.isCurrentMedium,expression:"isCurrentFree || isCurrentMedium"}],staticClass:"col-xs-12 glossy tariff-button q-mb-sm",attrs:{rounded:"",color:"deep-orange",push:""},on:{click:function(e){return t.payTariff(t.tariffs.Medium1,t.medium1Price)}}},[t._v("\n                  "+t._s(t.$t(t.isCurrentFree?"action_pay":"action_prolong"))+"\n                ")]),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:(t.companyId||t.isAuthenticated)&&t.isCurrentFree&&!t.hasTrial,expression:"(companyId || isAuthenticated) && isCurrentFree && !hasTrial"}],staticClass:"col-xs-12 tariff-button q-mb-sm",attrs:{rounded:"",outline:""},on:{click:function(e){return t.activateTrialPeriodTariff(t.tariffs.Medium1)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12",domProps:{innerHTML:t._s(t.$t("trial_period_check"))}})])]],2),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentLarge,expression:"isCurrentLarge"}],staticClass:"col-xs-12 q-px-sm tariff-button",attrs:{rounded:"",color:"accent"},on:{click:function(e){return t.changeCurrentTariff(t.tariffs.Medium1)}}},[t._v("\n                  "+t._s(t.$t("action_change_tariff"))+"\n                ")])],1):a("div",{staticClass:"row"},[a("q-btn",{staticClass:"tariffs-btn-signup-medium1-top\n                    col-xs-12 q-pb-xs tariff-button signup-button q-mb-sm",attrs:{rounded:"",color:"deep-orange",push:"",title:t.$t("navigation_open_public_templates"),to:{name:"public-templates-"+t.$q.lang.isoName}},on:{click:function(e){return t.clickTariffButton("signup-medium1-top",t.tariffs.Medium1)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12"},[t._v(t._s(t.$t("signup_company_register")))]),a("div",{staticClass:"col-xs-12 text-lowercase\n                        text-caption text-button-caption"},[t._v("\n                        "+t._s(t.$t("signup_company_register_action_helper"))+"\n                      ")])])]],2),a("q-btn",{staticClass:"col-xs-12 tariff-button",attrs:{rounded:"",outline:"",title:t.$t("navigation_open_public_templates"),to:{name:"public-templates-"+t.$q.lang.isoName}},on:{click:function(e){return t.clickTariffButton("signup-trial-medium1-top",t.tariffs.Medium1,!0)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12",domProps:{innerHTML:t._s(t.$t("trial_period_check"))}})])]],2)],1)]),a("q-th",{staticClass:"tariff-card cell-max"},[t.companyId||t.isAuthenticated?a("div",{staticClass:"row"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentFree||t.isCurrentLarge,expression:"isCurrentFree || isCurrentLarge"}],staticClass:"col-xs-12 tariff-button q-mb-sm glossy",attrs:{rounded:"",color:"deep-orange",push:""},on:{click:function(e){return t.payTariff(t.tariffs.Large1,t.large1Price)}}},[t._v("\n                  "+t._s(t.$t(t.isCurrentFree?"action_pay":"action_prolong"))+"\n                ")]),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:(t.companyId||t.isAuthenticated)&&t.isCurrentFree&&!t.hasTrial,expression:"(companyId || isAuthenticated) && isCurrentFree && !hasTrial"}],staticClass:"col-xs-12 q-mb-sm tariff-button",attrs:{rounded:"",outline:""},on:{click:function(e){return t.activateTrialPeriodTariff(t.tariffs.Large1)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12",domProps:{innerHTML:t._s(t.$t("trial_period_check"))}})])]],2),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentMedium,expression:"isCurrentMedium"}],staticClass:"col-xs-12 q-px-sm tariff-button",attrs:{rounded:"",color:"accent"},on:{click:function(e){return t.changeCurrentTariff(t.tariffs.Large1)}}},[t._v("\n                  "+t._s(t.$t("action_change_tariff"))+"\n                ")])],1):a("div",{staticClass:"row"},[a("q-btn",{staticClass:"tariffs-btn-signup-large1-top\n                    col-xs-12 q-pb-xs q-mb-sm tariff-button signup-button",attrs:{rounded:"",color:"deep-orange",push:"",title:t.$t("navigation_open_public_templates"),to:{name:"public-templates-"+t.$q.lang.isoName}},on:{click:function(e){return t.clickTariffButton("signup-large1-top",t.tariffs.Large1)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12"},[t._v(t._s(t.$t("signup_company_register")))]),a("div",{staticClass:"col-xs-12 text-lowercase\n                        text-caption text-button-caption"},[t._v("\n                        "+t._s(t.$t("signup_company_register_action_helper"))+"\n                      ")])])]],2),a("q-btn",{staticClass:"col-xs-12 tariff-button",attrs:{rounded:"",outline:"",title:t.$t("navigation_open_public_templates"),to:{name:"public-templates-"+t.$q.lang.isoName}},on:{click:function(e){return t.clickTariffButton("signup-trial-large1-top",t.tariffs.Large1,!0)}}},[[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-xs-12",domProps:{innerHTML:t._s(t.$t("trial_period_check"))}})])]],2)],1)])],1)]}},{key:"body",fn:function(e){return[a("q-tr",{key:"header_"+e.row.index,staticClass:"mobile-only",attrs:{props:e}},[a("q-td",{staticClass:"header-cell",attrs:{colspan:"100%"}},[a("div",[t._v(t._s(t.$t(e.row.label)))])])],1),a("q-tr",{key:"cell_"+e.row.index,attrs:{props:e}},t._l(e.cols,(function(r){return a("q-td",{key:r.name,class:{"desktop-only tariff-label":"label"===r.name,"cell-free":"free"===r.name,"cell-pro":"pro"===r.name,"cell-max":"max"===r.name},attrs:{props:e}},[a("div",{class:{"text-center":"label"!==r.name}},["boolean"===typeof r.value&&r.value?a("q-icon",{attrs:{size:"sm",name:"done",color:"green"}}):t._e(),"boolean"!==typeof r.value||r.value?t._e():a("q-icon",{attrs:{size:"sm",name:"remove",color:"red"}}),"boolean"!==typeof r.value?a("div",[t._v("\n                  "+t._s(t.$t(r.value))+"\n                ")]):t._e()],1)])})),1)]}}])})],1),a("div",{staticClass:"q-px-xs",class:t.$q.screen.lt.sm?"q-pt-sm":"q-py-sm"},[a("landing-creation-service",{staticClass:"border-rounded overflow-hidden",attrs:{text:t.$t("company_tariff_request")}})],1)]),a("q-dialog",{attrs:{"content-class":"desktop-middle",value:t.isChangeTariffOpened,maximized:t.$q.screen.lt.sm},on:{"before-hide":t.closeModal}},[a("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[a("q-page-container",[a("q-page",{staticClass:"bg-white q-pa-lg"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"text-secondary text-center text-h6"},[t._v("\n            "+t._s(t.$t("tariff_current"))+":\n            "),a("span",[t._v(t._s(t.currentTariffText))])]),a("q-field",{attrs:{borderless:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n                "+t._s(t.$t("tariff_expiration_date"))+"\n              ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n                "+t._s(t._f("dateTimeText")(t.companyDetails.tariffExpirationDate))+"\n              ")])]},proxy:!0}])}),a("q-field",{attrs:{borderless:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n                "+t._s(t.$t("tariff_remaining_days"))+"\n              ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n                "+t._s(t.remainingDays)+"\n              ")])]},proxy:!0}])})],1),a("div",{staticClass:"col-xs-12 row justify-center text-weight-bolder"},[a("q-icon",{attrs:{name:"arrow_downward",size:"50px",color:"primary"}})],1),a("div",{staticClass:"col-xs-12 q-pb-md"},[a("div",{staticClass:"text-primary text-center text-h6"},[t._v("\n            "+t._s(t.$t("tariff_future"))+":\n            "),a("span",[t._v(t._s(t.newTariffText))])]),a("q-field",{attrs:{borderless:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n                "+t._s(t.$t("tariff_future_expiration_date"))+"\n              ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n                "+t._s(t._f("dateTimeText")(t.changeTariffExpirationDate))+"\n              ")])]},proxy:!0}])}),a("q-field",{attrs:{borderless:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n                "+t._s(t.$t("tariff_remaining_days"))+"\n              ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n                "+t._s(t.changeTariffRemainingDays)+"\n              ")])]},proxy:!0}])})],1)])],1),a("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[a("div",{class:t.$q.screen.lt.sm?"col-xs-12 row":"row"},[a("div",{staticClass:"row col-xs-12 col-sm-auto",class:t.$q.screen.lt.sm?"order-last":"q-pr-sm"},[a("q-btn",{staticClass:"col-xs-12",attrs:{rounded:"",label:t.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:t.closeModal}})],1),a("q-btn",{staticClass:"col-xs-12 col-sm",class:t.$q.screen.lt.sm?"q-mb-sm":"",attrs:{rounded:"",label:t.$t("action_change_tariff_confirm"),color:"primary",icon:"done"},on:{click:t.applyNewTariff}})],1)])],1)],1),a("company-tariff-payment-form",{attrs:{companyId:t.companyId,promocode:t.promocode,showBonusesOption:!t.showSaleBanner}})],1)},s=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("a481"),a("7514"),a("96cf"),a("c973")),n=a.n(i),o=a("9523"),c=a.n(o),l=(a("c5f6"),a("2f62")),f=a("7f45"),u=a.n(f),d=a("1cb6"),p=a("4dd0"),m=a.n(p),h=a("f8b0"),y=a("d59f"),g=a("ee47"),_=a("70dd"),v=a("c98f"),x=a("293a"),b=a("1017"),C=a("418d");function q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?q(Object(a),!0).forEach((function(e){c()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var P={name:"CompanyTariffConfig",components:{landingCreationService:h["a"],timer:x["a"],CompanyTariffPaymentForm:C["a"]},mixins:[g["a"],_["a"]],props:{companyId:{type:[Number,String],required:!1},paymentKey:{type:String,required:!1},canonicUrl:{type:String,required:!1},isInternal:{type:Boolean,required:!1}},meta:function(){var t;return t=!this.isInternal&&this.canonicUrl?"".concat("https://seeyour.local:8080").concat(this.canonicUrl):this.$router.currentRoute.path,{title:this.pageTitle,meta:{description:{name:"description",content:this.pageDescription},keywords:{name:"keywords",content:this.$t("company_tariffs_meta_keywords")},"og:title":{property:"og:title",content:this.pageTitle},"og:description":{property:"og:description",content:this.pageDescription},"og:url":{property:"og:url",content:t}},link:{canonical:{rel:"canonical",href:t},alternateRu:{rel:"alternate",hreflang:"ru",href:"".concat("https://seeyour.local:8080","/tariffs")},alternateEn:{rel:"alternate",hreflang:"en",href:"".concat("https://seeyour.local:8080","/en/tariffs")}}}},data:function(){return{t:this.$t.bind(this),pageTitle:this.$t("company_tariff_config_title"),pageDescription:this.$t("company_tariff_config_description"),payDays:365,tariffs:v["h"],promoData:b["a"],tariffValue:v["g"],isChangeTariffOpened:!1,promocode:"",promoCodeError:!1,isPromocodeApplied:!1,newTariff:null,defaultDiscount:v["c"],pagination:{page:1,rowsPerPage:50},columns:[{name:"label",field:"label"},{name:"free",label:"free",field:"free"},{name:"pro",label:"pro",field:"pro"},{name:"max",label:"max",field:"max"}],data:v["i"]}},watch:{payDays:function(){d["a"].logEvent("company-tariffs-page","changePayDays",this.payDays,0,this.$router.currentRoute)}},computed:w({},Object(l["c"])("auth",["isAuthenticated","currentUserIsSuperAdmin"]),{},Object(l["c"])("bonus",["currentBonusAmount"]),{},Object(l["c"])("company",["activateTrialPeriodData","activateTrialPeriodError","companyDetails","companyChangeTariffCalculationsDetails","companyChangeTariffDetails","companyChangeTariffError","tariffPreviewDetails","tariffPromo"]),{isProAccent:function(){return!this.currentTariff||this.tariffValue[this.currentTariff]<=this.tariffValue[v["h"].Medium1]},isMaxAccent:function(){return this.currentTariff===v["h"].Large1},hasTrial:function(){return!!this.companyDetails&&null!=this.companyDetails.trialExpirationDate},dialogExpirationDate:function(){return u()().add(6,"months")}}),mounted:function(){var t=n()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.companyId&&this.trackUserAction({actionName:"openTariffsPage"});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:w({},Object(l["b"])("auth",["trackUserAction"]),{},Object(l["b"])("company",["activateTrialPeriod","createPayment","changeTariff","fetchChangeTariffCalculations","fetchIndividualCompanyDetails","fetchTariffPreview","fetchTariffPromo"]),{},Object(l["d"])("company",["resetTariffPreviewDetails","showCompanyTariffPaymentForm","setCompanyPaymentCreateData"]),{fetch:function(){var t=n()(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.companyId){t.next=28;break}return t.next=3,this.fetchIndividualCompanyDetails({variables:{id:+this.companyId,needPendingPayments:!0}});case 3:return m.a.get("signupPayDays")&&(this.payDays=parseInt(m.a.get("signupPayDays"),10),m.a.remove("signupPayDays")),t.next=6,this.fetchTariffPromo({variables:{name:this.promoData.code}});case 6:if(!(this.tariffPromo&&this.tariffPromo.promocode&&(!this.tariffPromo.total||this.tariffPromo.total&&this.tariffPromo.remaining))){t.next=12;break}return this.promocode=this.tariffPromo.promocode,t.next=10,this.applyPromocode();case 10:t.next=13;break;case 12:m.a.get("signupPromocode")?(this.promocode=m.a.get("signupPromocode"),m.a.remove("signupPromocode")):this.resetTariffPreviewDetails();case 13:if(e=m.a.get("needToApplyTariff"),!e||e===v["h"].Free1){t.next=26;break}if(m.a.remove("needToApplyTariff"),!m.a.get("signupTrial")){t.next=21;break}return t.next=19,this.activateTrialPeriodTariff(e);case 19:t.next=26;break;case 21:if(a=0,e===v["h"].Medium1?a=this.medium1Price:e===v["h"].Large1&&(a=this.large1Price),!(a>0)){t.next=26;break}return t.next=26,this.payTariff(e,a);case 26:t.next=34;break;case 28:return t.next=30,this.fetchTariffPromo({variables:{name:this.promoData.code}});case 30:if(!(this.tariffPromo&&this.tariffPromo.promocode&&(!this.tariffPromo.total||this.tariffPromo.total&&this.tariffPromo.remaining))){t.next=34;break}return this.promocode=this.tariffPromo.promocode,t.next=34,this.applyPromocode();case 34:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showMonthlyPrice:function(){return this.payDays>30},showDiscount:function(t){return this.tariffPreviewDetails&&this.getDiscountValue(t)!==v["c"][this.payDays]},getPayDaysText:function(t){var e=this.getPayDays(t,this.payDays),a=u.a.duration({years:Math.floor(e/365),months:Math.floor(e%365/30)}),r=a.years()?u.a.duration(a.years(),"y").humanize():"",s=a.months()?u.a.duration(a.months(),"months").humanize():"";return"".concat(r," ").concat(r&&s?"+":""," ").concat(s).trim()},getPayDays:function(t,e){var a=this.tariffPreviewDetails&&this.tariffPreviewDetails.find((function(a){return a.tariff===t&&a.originalPayDays===e}));return a?a.finalPayDays:e},getMonthPrice:function(t,e){return Math.floor(t/(this.getPayDays(e,this.payDays)/30))},getMonthFullPrice:function(t,e){var a=this.getMonthPrice(t,e),r=this.currency1LetterAbbr,s=this.$t("month_text");return"".concat(a," ").concat(r,"/").concat(s)},getDiscountValue:function(t){var e=this.prices[t][30],a="".concat(t.replace("_",""),"Price"),r=this.getMonthPrice(this[a],t),s=100-Math.floor(r/e*100);return s?"-".concat(s,"%"):0},activateTrialPeriodTariff:function(){var t=n()(regeneratorRuntime.mark((function t(e){var a,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:0,d["a"].logEvent("company-tariffs-page","activateTrialPeriodTariff",e,0,this.$router.currentRoute),t.next=4,this.activateTrialPeriod({variables:{tariff:e,companyId:this.companyId,days:a}});case 4:if(!this.activateTrialPeriodError){t.next=8;break}this.$q.notify({type:"negative",message:this.activateTrialPeriodError}),t.next=12;break;case 8:return t.next=10,this.fetchIndividualCompanyDetails({variables:{id:+this.companyId}});case 10:this.$q.dialog({message:this.$t("activate_trial_period_days_success_updated",{days:a>0?a:7}),ok:this.$t("action_ok")}),this.$router.push({name:"current-tariff",params:{companyId:this.companyId}});case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),adminUpdateTariff:function(){var t=n()(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$q.dialog({title:this.$t("tariff_activate_long_trial_tariff_dialog_title"),options:{type:"radio",model:v["h"].Large1,items:[{label:"PRO",value:v["h"].Medium1},{label:"MAX",value:v["h"].Large1}]},ok:this.$t("Yes"),cancel:this.$t("No")}).onOk((function(t){e.$q.dialog({title:e.$t("tariff_activate_long_trial_days_dialog_title"),prompt:{model:"",type:"number"},ok:e.$t("Yes"),cancel:e.$t("No")}).onOk((function(a){e.activateTrialPeriodTariff(t,a)}))}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changePromoCode:function(){this.promoCodeError=!1},applyPromocode:function(){var t=n()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(d["a"].logEvent("company-tariffs-page","promocode",this.promocode,0,this.$router.currentRoute),t.prev=1,!this.promocode){t.next=6;break}return t.next=5,this.fetchTariffPreview({variables:{promocode:this.promocode,currency:this.userCurrency}});case 5:this.isPromocodeApplied=!0;case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.promoCodeError=!0;case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),cancelPromocode:function(){this.promocode="",this.resetTariffPreviewDetails(),this.promoCodeError=!1,this.isPromocodeApplied=!1},payTariff:function(){var t=n()(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.isCurrentFree||d["a"].logEvent("company-tariffs-page","prolong-tariff",e,a,this.$router.currentRoute),d["a"].logEvent("company-tariffs-page","createPayment",e,a,this.$router.currentRoute),this.setCompanyPaymentCreateData({price:a,payDays:this.payDays,tariff:e,companyId:this.companyId,promocode:this.promocode,currency:this.userCurrency}),this.showCompanyTariffPaymentForm();case 4:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),applyNewTariff:function(){var t=n()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d["a"].logEvent("company-tariffs-page","applyTariff",this.newTariff,0,this.$router.currentRoute),t.next=3,this.changeTariff({variables:{tariff:this.newTariff,companyId:this.companyId}});case 3:this.companyChangeTariffError?this.$q.notify({type:"negative",message:this.companyChangeTariffError}):(this.closeModal(),this.$q.notify({type:"positive",message:this.$t("change_tariff_success_updated")}),this.$router.push({name:"current-tariff",params:{companyId:this.companyId}}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeCurrentTariff:function(){var t=n()(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d["a"].logEvent("company-tariffs-page","changeTariff",e,0,this.$router.currentRoute),this.newTariff=e,t.next=4,this.fetchChangeTariffCalculations({variables:{tariff:e,companyId:this.companyId}});case 4:return this.companyChangeTariffCalculationsDetails&&(this.isChangeTariffOpened=!0),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),closeModal:function(){this.newTariff=null,this.isChangeTariffOpened=!1},clickTariffButton:function(t,e,a){window.localStorage&&e&&(m.a.set("signupTariff",e),this.promocode&&m.a.set("signupPromocode",this.promocode),a?m.a.set("signupTrial",!0):m.a.set("signupPayDays",this.payDays)),d["a"].logEvent("company-tariffs-page","click",t,0,this.$router.currentRoute)},getErrorMessage:y["a"]})},$=P,T=(a("899f"),a("42e1")),k=Object(T["a"])($,r,s,!1,null,"ac2104d0",null);e["default"]=k.exports},"899f":function(t,e,a){"use strict";var r=a("a7e5"),s=a.n(r);s.a},a7e5:function(t,e,a){}}]);