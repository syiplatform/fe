(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[48],{"0786":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"row q-my-sm",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[s("div",{staticClass:"col-xs-12 q-px-xs"},[s("div",[s("img",{attrs:{alt:e.$t("img_logo_alt"),title:e.$t("img_logo_title"),src:"statics/logo.svg"}})]),s("div",[e._v("SEEYOUR.info")])]),e.getLoginError?s("div",{staticClass:"error"},[e._v(e._s(e.getLoginError.message))]):e._e(),e.authSignupUser?s("div",{staticClass:"q-mb-sm text-grey-7"},[e._v("\n    "+e._s(e.$t("signup_last_step_for_sso"))+"\n  ")]):e._e(),e.authSignupUser?e._e():s("div",{staticClass:"col-xs-12 q-px-xs"},[s("q-input",{attrs:{label:e.$t("field_username")+"*",hint:e.$t("signup_company_username_hint"),maxlength:"50","bottom-slots":"",error:e.$v.form.adminUsername.$error,"error-message":e.getErrorMessage(e.$v.form.adminUsername,e.t),autofocus:""},model:{value:e.form.adminUsername,callback:function(t){e.$set(e.form,"adminUsername","string"===typeof t?t.trim():t)},expression:"form.adminUsername"}})],1),e.authSignupUser?e._e():s("div",{staticClass:"col-xs-12 q-px-xs"},[s("q-input",{attrs:{type:"password",label:e.$t("field_password")+"*",maxlength:"255","bottom-slots":"",error:e.$v.form.adminPassword.$error,"error-message":e.getErrorMessage(e.$v.form.adminPassword,e.t)},model:{value:e.form.adminPassword,callback:function(t){e.$set(e.form,"adminPassword","string"===typeof t?t.trim():t)},expression:"form.adminPassword"}})],1),s("div",{staticClass:"col-xs-12 q-px-xs"},[s("q-input",{attrs:{label:e.$t("field_email")+"*",maxlength:"255",readonly:"","bottom-slots":"",error:e.$v.form.email.$error,"error-message":e.getErrorMessage(e.$v.form.email,e.t)},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email","string"===typeof t?t.trim():t)},expression:"form.email"}})],1),s("div",{staticClass:"col-xs-12 q-px-xs"},[s("q-select",{attrs:{label:e.$t("field_timezone")+"*","emit-value":"","map-options":"","bottom-slots":"","use-input":"","use-chips":"",options:e.filteredTimezoneOptions,error:e.$v.form.timezone.$error,"error-message":e.getErrorMessage(e.$v.form.timezone,e.t)},on:{filter:e.filterTimezones},model:{value:e.form.timezone,callback:function(t){e.$set(e.form,"timezone","string"===typeof t?t.trim():t)},expression:"form.timezone"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.form.timezone,expression:"!form.timezone"}],staticClass:"timezone-suggestion q-ma-sm"},[e._v("\n        "+e._s(e.$t("timezone_suggestion"))+"\n        "),s("span",{staticClass:"timezone-name"},[e._v(e._s(e.suggestedTimezoneText))]),e._v("\n        "+e._s("?")+"\n        "),s("q-btn",{attrs:{rounded:""},on:{click:e.setupSuggestedTimezone}},[e._v("\n          "+e._s(e.$t("timezone_suggestion_set_up"))+"\n        ")])],1)],1),s("div",{staticClass:"col-xs-12 q-px-xs"},[s("q-checkbox",{model:{value:e.agreeWithTerms,callback:function(t){e.agreeWithTerms=t},expression:"agreeWithTerms"}}),s("span",{staticClass:"text-caption"},[e._v("\n      "+e._s(e.$t("signup_agree_with"))+"\n      "),s("span",{staticClass:"q-my-sm text-primary cursor-pointer",on:{click:function(t){return e.openURL("https://seeyour.info/privacy-policy-"+e.$q.lang.isoName)}}},[e._v("\n        "+e._s(e.$t("signup_agree_with_policy"))+"\n      ")]),s("span",[e._v(e._s(e.$t("And")))]),s("span",{staticClass:"q-my-sm text-primary cursor-pointer",on:{click:function(t){return e.openURL("https://seeyour.info/about-terms-"+e.$q.lang.isoName)}}},[e._v("\n        "+e._s(e.$t("signup_agree_with_terms"))+"\n      ")])])],1),s("div",{staticClass:"col-xs-12 row q-mt-lg"},[s("q-btn",{staticClass:"col-xs-12 q-mb-xs signup-company-btn-signup",attrs:{rounded:"",type:"submit",disable:!e.agreeWithTerms,label:e.$t("signup_company_register_action"),color:"primary"}}),s("q-btn",{staticClass:"col-xs-12 q-mb-xs signup-company-btn-back-to-login",attrs:{rounded:"",outline:"",to:{name:"login-"+e.$q.lang.isoName},label:e.$t("action_back_to_login"),title:e.$t("action_back_to_login_title"),color:"secondary"},on:{click:function(t){return e.logClickEvent("back-action")}}})],1)])},i=[],n=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("96cf"),s("c973")),o=s.n(n),a=s("9523"),m=s.n(a),c=s("b06b"),u=s("1cb6"),l=s("2f62"),p=s("b5ae"),g=s("d59f"),d=s("e8f4"),f=s("c81d");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){m()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={name:"AddUser",mixins:[d["a"],f["a"]],data:function(){return{t:this.$t.bind(this),form:{email:"",timezone:"",adminUsername:"",adminPassword:""},agreeWithTerms:!1}},computed:v({},Object(l["c"])("auth",["companySignupError","authSignupUser"])),methods:v({openURL:c["a"],getErrorMessage:g["a"],setupSuggestedTimezone:function(){this.form.timezone=this.suggestedTimezone},logClickEvent:function(e){u["a"].logEvent("add-user-page","click",e,0,this.$router.currentRoute)},handleSubmit:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.form.$touch(),!this.$v.form.$error){e.next=3;break}return e.abrupt("return");case 3:return t={activityType:this.form.activityType,email:this.form.email,adminUsername:this.form.adminUsername,adminPassword:this.form.adminPassword,timezone:this.form.timezone,lang:this.$i18n.locale},this.authSignupUser&&(t.serviceType=this.authSignupUser.serviceType,t.serviceId=this.authSignupUser.serviceId),this.$q.loading.show(),e.prev=6,e.next=9,this.signupIndividualCompany({variables:t});case 9:this.companySignupError?this.$q.notify({type:"negative",message:this.companySignupError}):(u["a"].logEvent("add-user-page","click","signup-action",0,this.$router.currentRoute),this.$q.notify({type:"positive",message:this.$t("signup_company_register_success")}),setTimeout((function(){s.redirectBasedOnPermissions()}),1e3)),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),this.$q.notify({type:"negative",message:this.$t("signup_company_register_error")});case 15:this.$q.loading.hide();case 16:case"end":return e.stop()}}),e,this,[[6,12]])})));function t(){return e.apply(this,arguments)}return t}()},Object(l["b"])("auth",[])),mounted:function(){this.isAuthenticated&&this.$router.push({name:"client-profile"}),this.authSignupUser&&(this.form.email=this.authSignupUser.email),this.setupSuggestedTimezone()},validations:function(){var e={form:{email:{email:p["email"],required:p["required"],maxLength:Object(p["maxLength"])(255)},adminUsername:{required:p["required"],maxLength:Object(p["maxLength"])(255)},timezone:{required:p["required"]}}};return this.authSignupUser||(e.form.adminPassword={required:p["required"],minLength:Object(p["minLength"])(6),maxLength:Object(p["maxLength"])(80)}),e}},b=_,y=(s("756c"),s("42e1")),$=Object(y["a"])(b,r,i,!1,null,"365d748e",null);t["default"]=$.exports},6461:function(e,t,s){},"756c":function(e,t,s){"use strict";var r=s("6461"),i=s.n(r);i.a}}]);