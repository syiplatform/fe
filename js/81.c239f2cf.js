(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[81],{f2df:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"q-mt-sm"},[r("h1",{staticClass:"text-h5 q-mb-md q-mt-none",class:e.$q.screen.lt.sm?"text-center":""},[e._v("\n      "+e._s(e.$t("client_freelance_worker_details_title"))+"\n    ")]),r("div",{staticClass:"row col-xs-12 q-mb-md q-px-sm",class:e.$q.screen.lt.sm?"justify-center":""},[r("div",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"text-center":" q-pr-lg"},[r("img",{attrs:{alt:e.$t("img_logo_alt"),title:e.$t("img_logo_title"),width:"150px",height:"150px",src:e.profileImagePath}})]),r("div",[r("h2",{staticClass:"text-h6 q-my-sm"},[e._v("\n          "+e._s(e.details.name)+"\n        ")]),r("div",{staticClass:"row q-my-sm"},[r("q-btn",{attrs:{rounded:"",outline:"",label:e.$t("freelancer_page_link"),color:"primary","icon-right":"arrow_right_alt",type:"a",target:"_blank",href:e.pageLinkPath}})],1),r("div",{staticClass:"row q-my-sm"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("action_edit"),color:"primary",icon:"edit"},on:{click:e.openFormBasic}})],1),r("div",{staticClass:"row q-mt-md q-my-sm"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("freelancer_add_speciality"),color:"primary",icon:"add"},on:{click:e.addNewSpeciality}})],1)])]),r("div",{staticClass:"q-mt-md"},[r("image-tiles",{ref:"imageTiles",attrs:{namespace:"freelance",pagedListName:"workerSpeciality",hasInfo:!1,hasMain:!0,needTotalInfo:!1,deleteRecordActionName:"deleteWorkerSpeciality",deleteErrorGetterName:"workerSpecialityDeleteError",showFormMutationName:"workerSpecialityShowForm",setSelectedIdMutationName:"workerSpecialitySetSelectedId",fetch:e.fetchWorkerSpecialities},scopedSlots:e._u([{key:"title",fn:function(t){var i=t.entity;return[r("div",{staticClass:"text-subtitle1 q-mb-xs"},[e._v("\n            "+e._s(e.$t(i.speciality.name))+"\n          ")]),r("div",[r("q-badge",{staticClass:"q-mr-sm",attrs:{outline:"",color:"primary"}},[e._v("\n              "+e._s(e.formatExperienceText(i.experienceAge))+"\n            ")]),r("q-badge",{staticClass:"q-mr-sm",attrs:{outline:"",color:"secondary"}},[e._v("\n              "+e._s(e.$t(e.getExperienceLevelLabel(i.experienceLevel)))+"\n            ")])],1)]}},{key:"main",fn:function(t){var i=t.entity;return[i.contentOwners.length>0?r("div",{staticClass:"col-xs-12 q-pl-sm"},[r("div",{staticClass:"col-xs-12 q-mb-sm text-subtitle2"},[e._v("\n              "+e._s(e.$t("freelancer_speciality_works"))+":\n            ")]),r("div",{staticClass:"col-xs-12"},e._l(i.contentOwners,(function(e){return r("div",{key:e.id},[r("content-owner-item",{attrs:{contentOwner:e}})],1)})),0)]):e._e()]}}])})],1)]),r("worker-form-basic"),r("worker-speciality-form")],1)},a=[],n=(r("8e6e"),r("8a81"),r("456d"),r("551c"),r("ac6a"),r("cadf"),r("06db"),r("5df3"),r("96cf"),r("c973")),s=r.n(n),c=r("9523"),o=r.n(c),l=(r("c5f6"),r("2f62")),d=r("2ec3"),u=r("535f"),p=r("aacf"),m=r("241b"),f=r("b22d"),h=r("11ec"),g=r("2f9f"),w=r("f31f"),b=r("c8ec");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={name:"FreelanceWorkerDetails",props:{userId:{type:[Number,String]}},components:{workerFormBasic:d["a"],workerSpecialityForm:u["a"],ImageTiles:m["a"],contentOwnerItem:w["a"],AddButton:f["a"]},meta:function(){return{title:this.$t("freelance_worker_profile_page_title")}},data:function(){return{contentOwnerTypes:g["a"]}},computed:k({},Object(l["c"])("auth",["currentUserId"]),{},Object(l["c"])("freelance",["freelanceWorkerDetails","freelanceWorkerBasicFormIsVisible","remainingFreelanceSpecialities"]),{},Object(l["c"])("freelance",{pagination:"workerSpecialityPagedListPagination"}),{canAddNewSpeciality:function(){return!!this.remainingFreelanceSpecialities.length},details:function(){return this.freelanceWorkerDetails?this.freelanceWorkerDetails:{}},hasFreelanceWorker:function(){return this.details&&this.details.id>0},profileImagePath:function(){return this.details.imagePath?"".concat(p["a"].imagePath).concat(this.details.imagePath):"statics/logo.svg"},pageLinkPath:function(){return this.details.detailsCompanyPath},selectedUserId:function(){var e;return e=this.userId?+this.userId:+this.currentUserId,e}}),methods:k({},Object(l["d"])("freelance",["freelanceWorkerBasicShowForm","freelanceWorkerBasicSetSelectedId","workerSpecialityShowForm","workerSpecialitySetSelectedId","workerSpecialityDetailsReset"]),{},Object(l["b"])("freelance",["fetchFreelanceWorkerDetails","fetchWorkerSpecialityPagedList","fetchFreelanceSpecialityPagedList"]),{},Object(l["b"])("contentOwner",["fetchContentOwnerPagedList"]),{getExperienceLevelLabel:b["b"],formatExperienceText:function(e){return Object(b["a"])(e,this.$t.bind(this))},resetPagination:function(){var e=Object(h["a"])(!0,{},this.pagination);e.pageNumber=1,this.paginationUpdate(e)},fetchWorkerSpecialities:function(){var e=s()(regeneratorRuntime.mark((function e(){var t,r,i,a,n,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],t||this.$refs.imageTiles&&this.$refs.imageTiles.reset(),r=this.pagination,i=r.pageNumber,a=r.pageSize,n=r.sortBy,s=r.descending,e.next=5,this.fetchWorkerSpecialityPagedList({variables:{userId:+this.selectedUserId,pageNumber:i,pageSize:a,sortBy:n,descending:s},needAppendItems:t});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchData:function(){var e=s()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.fetchFreelanceWorkerDetails({variables:{userId:this.selectedUserId}}),this.fetchFreelanceSpecialityPagedList({variables:{isSelectable:!0,pageNumber:1,pageSize:1e3}}),this.fetchWorkerSpecialities(),this.fetchContentOwnerPagedList({variables:{userId:+this.selectedUserId,statuses:[],pageNumber:1,pageSize:1e3}})]);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openFormBasic:function(){this.freelanceWorkerBasicSetSelectedId(this.selectedUserId),this.freelanceWorkerBasicShowForm()},addNewSpeciality:function(){this.workerSpecialitySetSelectedId(),this.workerSpecialityShowForm(),this.workerSpecialityDetailsReset()}}),mounted:function(){var e=s()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:this.hasFreelanceWorker||this.openFormBasic();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{freelanceWorkerBasicFormIsVisible:function(){var e=s()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.fetchData();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},v=S,_=r("42e1"),x=Object(_["a"])(v,i,a,!1,null,null,null);t["default"]=x.exports}}]);