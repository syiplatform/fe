(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"01ea":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"border-radius q-mb-sm",class:e.$q.screen.lt.sm?"":"q-py-sm"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 q-pa-md"},[r("q-input",{ref:"calendarURL",staticClass:"text-primary",attrs:{value:e.calendarLink,hint:e.$t("calendar_link_helper"),readonly:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"file_copy"},on:{click:function(t){return e.copyToClipBoard("calendarURL")}}})]},proxy:!0},{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"arrow_forward"},on:{click:function(t){return e.openURL(e.calendarLink)}}})]},proxy:!0}])})],1)])]),r("q-card",{class:e.$q.screen.lt.sm?"":"q-py-sm"},[r("q-list",{attrs:{separator:"","no-border":""}},[r("q-expansion-item",[r("template",{slot:"header"},[r("q-item-section",{staticClass:"mobile-hide",attrs:{side:"",left:""}},[r("q-icon",{attrs:{name:"near_me",size:"24px"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(e.$t("company_form_field_location")))])],1),r("q-item-section",[r("div",{staticClass:"text-caption text-grey-6"},[e._v("\n                "+e._s(e.$t("company_form_field_location_helper"))+"\n              ")])])],1),r("company-calendar-location",{class:e.$q.screen.lt.sm?"":"q-pl-md",attrs:{companyId:e.companyId}})],2),r("q-expansion-item",[r("template",{slot:"header"},[r("q-item-section",{staticClass:"mobile-hide",attrs:{side:"",left:""}},[r("q-icon",{attrs:{name:"shop",size:"24px"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(e.$t("company_form_field_services")))])],1),r("q-item-section",[r("div",{staticClass:"text-caption text-grey-6"},[e._v("\n                "+e._s(e.$t("company_form_field_services_helper"))+"\n              ")])])],1),r("company-service-list",{class:e.$q.screen.lt.sm?"":"q-pl-md",attrs:{companyId:e.companyId}})],2),r("q-expansion-item",[r("template",{slot:"header"},[r("q-item-section",{staticClass:"mobile-hide",attrs:{side:"",left:""}},[r("q-icon",{attrs:{name:"timer",size:"24px"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(e.$t("location_form_field_location_schedule")))])],1),r("q-item-section",[r("div",{staticClass:"text-caption text-grey-6"},[e._v("\n                "+e._s(e.$t("location_form_field_location_schedule_helper"))+"\n              ")])])],1),e.formModel.locationId?r("company-schedule-list",{class:e.$q.screen.lt.sm?"":"q-pl-md",attrs:{companyId:e.companyId,locationId:e.formModel.locationId}}):e._e()],2),r("q-expansion-item",[r("template",{slot:"header"},[r("q-item-section",{staticClass:"mobile-hide",attrs:{side:"",left:""}},[r("q-icon",{attrs:{name:"beach_access",size:"24px"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(e.$t("location_form_field_holiday_schedule")))])],1),r("q-item-section",[r("div",{staticClass:"text-caption text-grey-6"},[e._v("\n                "+e._s(e.$t("location_form_field_holiday_schedule_helper"))+"\n              ")])])],1),e.formModel.locationId?r("company-holiday-schedule-list",{class:e.$q.screen.lt.sm?"":"q-pl-md",attrs:{companyId:e.companyId,locationId:e.formModel.locationId}}):e._e()],2),r("q-expansion-item",[r("template",{slot:"header"},[r("q-item-section",{staticClass:"mobile-hide",attrs:{side:"",left:""}},[r("q-icon",{attrs:{name:"settings",size:"24px"}})],1),r("q-item-section",[r("q-item-label",[e._v(e._s(e.$t("company_form_field_settings")))])],1)],1),r("company-settings",{class:e.$q.screen.lt.sm?"":"q-pl-md",attrs:{companyId:e.companyId}})],2)],1)],1)],1)},i=[],n=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("96cf"),r("c973")),o=r.n(n),s=r("9523"),c=r.n(s),l=(r("c5f6"),r("2f62")),d=r("4545"),u=r("5944"),m=r("ee47"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.serviceList?r("entity-list",{attrs:{list:e.serviceList,isPossibleToOpenDetailsPage:!1,isPossibleToOpenDetails:!1,isPossibleToConfirm:!1,isPossibleToDelete:!0,namespace:"companyService"},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.entity;return[r("span",[e._v(e._s(a.name))])]}},{key:"info",fn:function(t){var a=t.entity;return[a.duration?r("div",[e._v("\n        "+e._s(e.$t("field_duration_total"))+": "+e._s(e._f("durationText")(a.duration))+"\n      ")]):e._e(),a.durationAfter?r("div",[e._v("\n        "+e._s(e.$t("field_duration_after"))+": "+e._s(e._f("durationText")(a.durationAfter))+"\n      ")]):e._e(),a.durationAfter?r("div",[e._v("\n        "+e._s(e.$t("field_duration_client"))+":\n        "+e._s(e._f("durationText")(e.calculateClientDuration(a.duration,a.durationAfter)))+"\n      ")]):e._e(),a.price?r("div",{staticClass:"q-mt-sm"},[e._v("\n        "+e._s(e.$t("field_price"))+":\n        "+e._s(a.price+" "+e.localizedCompanyCurrencyShortName)+"\n      ")]):e._e(),a.description?r("div",{staticClass:"q-mt-sm"},[e._v("\n        "+e._s(a.description)+"\n      ")]):e._e()]}}],null,!1,3923899547)}):e._e(),e.companyId?r("company-service-form",{attrs:{companyId:e.companyId}}):e._e()],1)},f=[],h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isCompanyServiceFormVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"bg-white q-pa-lg"},[r("div",{staticClass:"q-my-sm"},[r("div",{staticClass:"text-h5"},[e._v("\n              "+e._s(e.$t(e.isCreation?"service_create_page_title":"service_edit_page_title"))+"\n            ")])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-6 q-px-xs"},[r("q-input",{attrs:{label:e.$t("field_name")+"*",maxlength:"255","bottom-slots":"",error:e.$v.formModel.name.$error,"error-message":e.getErrorMessage(e.$v.formModel.name,e.t)},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name","string"===typeof t?t.trim():t)},expression:"formModel.name"}})],1),r("div",{staticClass:"col-xs-12 col-md-6 q-px-xs"},[r("q-input",{attrs:{label:e.$t("field_price"),"bottom-slots":"",suffix:e.$t(e.companyCurrencyShortName),error:e.$v.formModel.price.$error,"error-message":e.getErrorMessage(e.$v.formModel.price,e.t)},model:{value:e.formModel.price,callback:function(t){e.$set(e.formModel,"price",t)},expression:"formModel.price"}})],1),r("div",{staticClass:"col-xs-12 col-md-6 q-px-xs"},[r("q-input",{attrs:{label:e.$t("field_duration_total")+"*","bottom-slots":"",placeholder:e.$t("format_duration"),error:e.$v.formModel.duration.$error,"error-message":e.getErrorMessage(e.$v.formModel.duration,e.t)},model:{value:e.formatedDuration,callback:function(t){e.formatedDuration=t},expression:"formatedDuration"}})],1),r("div",{staticClass:"col-xs-12 col-md-6 q-px-xs"},[r("q-input",{attrs:{label:e.$t("field_duration_after"),"bottom-slots":"",placeholder:e.$t("format_duration"),hint:e.$t("field_duration_after_hint"),error:e.$v.formModel.durationAfter.$error,"error-message":e.getErrorMessage(e.$v.formModel.durationAfter,e.t)},model:{value:e.formatedDurationAfter,callback:function(t){e.formatedDurationAfter=t},expression:"formatedDurationAfter"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[e._v("\n            "+e._s(e.$t("field_duration_client"))+":\n        "+e._s(e._f("durationText")(e.calculateClientDuration(e.formModel.duration,e.formModel.durationAfter)))+"\n          ")]),r("div",{staticClass:"col-xs-12 col-md-12 q-px-xs q-mt-sm"},[r("q-input",{attrs:{label:e.$t("field_description"),autogrow:""},model:{value:e.formModel.description,callback:function(t){e.$set(e.formModel,"description","string"===typeof t?t.trim():t)},expression:"formModel.description"}})],1)])])],1),r("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t(e.isCreation?"action_create":"action_save"),color:"primary",icon:e.isCreation?"add":"save"},on:{click:e.saveChanges}})],1)],1)],1)},y=[],v=(r("7f7f"),r("ed50"),r("4917"),r("a481"),r("1cb6")),b=r("d47e"),_=r("b5ae"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-uploader",{ref:"uploaderRef",attrs:{extensions:".gif,.jpg,.jpeg,.png",color:"secondary",url:"","hide-upload-button":"","no-thumbnails":"","auto-expand":!0,"stack-label":e.$t("field_logo"),"upload-factory":e.uploadFactory},on:{add:e.upload}})},q=[],x={name:"ImageUploader",props:{uploadFactory:{type:Function}},methods:{upload:function(){this.$refs.uploaderRef.upload()}}},O=x,$=r("42e1"),w=Object($["a"])(O,g,q,!1,null,null,null),C=w.exports,S=r("d59f");function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M={name:"CompanyServiceForm",mixins:[d["a"],u["a"]],components:{imageUploader:C},props:{companyId:{type:[Number,String],required:!0}},data:function(){return{t:this.$t.bind(this),formModelKey:"companyServiceDetails"}},computed:j({},Object(l["c"])("companyService",["companyServiceCreateError","companyServiceUpdateError","companyServiceDetails","companyServiceId","isCompanyServiceFormVisible"]),{},Object(l["c"])("company",["companyCurrencyShortName"]),{isCreation:function(){return!this.companyServiceId},formatedDuration:{get:function(){return Object(b["x"])(this.formModel.duration,!0)},set:function(e){var t=this.setFormattedDuration(e);t&&(this.formModel.duration=t)}},formatedDurationAfter:{get:function(){return Object(b["x"])(this.formModel.durationAfter,!0)},set:function(e){var t=this.setFormattedDuration(e);t&&(this.formModel.durationAfter=t)}}}),watch:{isCompanyServiceFormVisible:function(){this.updateCompanyServiceDetails(+this.companyServiceId)}},methods:j({calculateClientDuration:b["a"],setFormattedDuration:function(e){var t=e.replace(/[^0-9]/g,"");if(!t||t.length%2===0){var r=t.padEnd(6,"0").match(/[0-9]{2}/g);return r.join(":")}return null}},Object(l["d"])("companyService",["hideForm","setSelectedId","updateCompanyServiceDetails"]),{getErrorMessage:S["a"],createNewService:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,r,a,i,n,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.formModel,r=t.name,a=t.description,i=t.duration,n=t.durationAfter,o=t.price,s=t.isPrimary,c=this.logoImageId,e.prev=2,e.next=5,this.createCompanyService({variables:{input:{name:r,description:a,duration:i,durationAfter:n,isPrimary:s,price:o||null,imageId:c,companyId:this.companyId}}});case 5:this.companyServiceCreateError?this.$q.notify({type:"negative",message:this.companyServiceCreateError}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("service_form_success_created")}),v["a"].logEvent("company-service-page","create-company-service-saved",this.companyId,0,this.$router.currentRoute)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),this.$q.notify({type:"negative",message:this.$t("service_form_errors_can_not_save")});case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}(),editService:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,r,a,i,n,o,s,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.formModel,r=t.id,a=t.name,i=t.description,n=t.duration,o=t.durationAfter,s=t.isPrimary,c=t.price,l=this.logoImageId,e.prev=2,e.next=5,this.updateCompanyService({variables:{id:r,input:{name:a,description:i,duration:n,durationAfter:o,isPrimary:s,price:c||null,imageId:l}}});case 5:this.companyServiceUpdateError?this.$q.notify({type:"negative",message:this.companyServiceUpdateError}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("service_form_success_updated")}),v["a"].logEvent("company-service-page","update-company-service-saved",this.companyId,0,this.$router.currentRoute)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),this.$q.notify({type:"negative",message:this.$t("service_form_errors_can_not_save")});case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}(),saveChanges:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateFormAndNotify()){e.next=2;break}return e.abrupt("return");case 2:this.isCreation?this.createNewService():this.editService();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$v.$reset(),this.hideForm()}},Object(l["b"])("companyService",["fetchServiceDetailsForForm","createCompanyService","updateCompanyService"])),validations:{formModel:{name:{required:_["required"],maxLength:Object(_["maxLength"])(255)},price:{numeric:_["numeric"]},duration:{required:_["required"],isValidDuration:b["H"]},durationAfter:{isValidDurationOrEmpty:b["I"]}}}},k=M,T=Object($["a"])(k,h,y,!1,null,null,null),E=T.exports,F=r("7d35");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L={name:"CompanyServiceList",mixins:[m["a"]],components:{CompanyServiceForm:E,EntityList:F["a"]},props:{companyId:{type:[Number,String],required:!0}},computed:P({},Object(l["c"])("companyService",["serviceList"]),{},Object(l["c"])("company",["companyCurrencyShortName"]),{localizedCompanyCurrencyShortName:function(){return this.$t(this.companyCurrencyShortName)},isNotFetched:function(){return!(this.serviceList&&this.serviceList.length)}}),methods:P({calculateClientDuration:b["a"]},Object(l["b"])("companyService",["fetchCompanyServiceList"]),{fetch:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCompanyServiceList({variables:{companyId:this.companyId}});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},z=L,A=Object($["a"])(z,p,f,!1,null,null,null),R=A.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row q-mb-xs bg-white",class:e.$q.screen.lt.sm?"column":"reverse q-py-lg"},[r("div",{class:e.$q.screen.lt.sm?"row column reverse q-mx-md":"row column q-mx-lg"},[r("div",{staticClass:"row column"},[r("q-btn",{staticClass:"q-mb-md",attrs:{rounded:"",label:e.$t("action_edit"),icon:"edit",color:"primary"},on:{click:function(t){return e.openCompanyCalendarLocationForm(e.companyId)}}}),e.formModel&&e.formModel.addressLine?r("location-map",{staticClass:"map",attrs:{location:e.formModel,type:"individual"}}):e._e()],1)]),r("div",{class:e.$q.screen.lt.sm?"col q-mx-md":"col q-mx-lg"},[r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{staticClass:"text-caption",staticStyle:{"min-width":"120px"}},[e._v(e._s(e.$t("field_address")))])]},proxy:!0},{key:"control",fn:function(){return[e._v("\n        "+e._s(e.formModel.addressLine)+"\n        "),e.formModel.addressLine?e._e():r("q-banner",{staticClass:"bg-info text-white border-radius",scopedSlots:e._u([{key:"avatar",fn:function(){return[r("q-icon",{attrs:{name:"info",color:"white"}})]},proxy:!0}],null,!1,654320519)},[e._v("\n          "+e._s(e.$t("field_address_helper"))+"\n        ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{staticClass:"text-caption",staticStyle:{"min-width":"120px"}},[e._v(e._s(e.$t("field_timezone")))])]},proxy:!0},{key:"control",fn:function(){return[e._v("\n        "+e._s(e.formattedTimezone)+"\n      ")]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{staticClass:"text-caption",staticStyle:{"min-width":"120px"}},[e._v(e._s(e.$t("field_currency")))])]},proxy:!0},{key:"control",fn:function(){return[e._v("\n        "+e._s(e.$t(e.formattedCurrency))+"\n      ")]},proxy:!0}])})],1),r("company-calendar-location-form")],1)},N=[],V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isCompanyCalendarLocationVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"bg-white q-pa-lg"},[r("div",{staticClass:"q-my-sm"},[r("div",{staticClass:"text-h5"},[e._v("\n            "+e._s(e.$t("company_edit_page_title"))+"\n          ")])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 q-my-xs"},[r("q-input",{attrs:{label:e.$t("field_address"),hint:e.$t("field_address_help_message"),"bottom-slots":"",rounded:"",standout:"bg-grey-2 text-grey-14",error:e.$v.formModel.addressLine.$error,"error-message":e.getErrorMessage(e.$v.formModel.addressLine,e.t)},model:{value:e.formModel.addressLine,callback:function(t){e.$set(e.formModel,"addressLine","string"===typeof t?t.trim():t)},expression:"formModel.addressLine"}})],1),r("div",{staticClass:"col-xs-12 q-my-xs"},[r("q-select",{attrs:{label:e.$t("field_timezone"),"emit-value":"","map-options":"","bottom-slots":"","use-input":"","user-chip":"",options:e.filteredTimezoneOptions,error:e.$v.formModel.timezone.$error,"error-message":e.getErrorMessage(e.$v.formModel.timezone,e.t)},on:{filter:e.filterTimezones},model:{value:e.formModel.timezone,callback:function(t){e.$set(e.formModel,"timezone","string"===typeof t?t.trim():t)},expression:"formModel.timezone"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.formModel.timezone,expression:"!formModel.timezone"}],staticClass:"timezone-suggestion q-ma-sm"},[e._v("\n              "+e._s(e.$t("timezone_suggestion"))+"\n              "),r("span",{staticClass:"timezone-name"},[e._v(e._s(e.suggestedTimezoneText))]),e._v("\n              "+e._s("?")+"\n              "),r("q-btn",{attrs:{rounded:""},on:{click:e.setupSuggestedTimezone}},[e._v("\n                "+e._s(e.$t("timezone_suggestion_set_up"))+"\n              ")])],1)],1),r("div",{staticClass:"col-xs-12 q-my-xs"},[r("q-select",{attrs:{label:e.$t("field_currency"),"emit-value":"","map-options":"","bottom-slots":"",options:e.currencyLongOptions,error:e.$v.formModel.currency.$error,"error-message":e.getErrorMessage(e.$v.formModel.currency,e.t)},model:{value:e.formModel.currency,callback:function(t){e.$set(e.formModel,"currency","string"===typeof t?t.trim():t)},expression:"formModel.currency"}})],1)])])],1),r("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_save"),color:"primary",icon:"save"},on:{click:e.saveChanges}})],1)],1)],1)},H=[],B=r("7066"),K=r("c81d");function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={name:"CompanyCalendarLocationForm",mixins:[u["a"],K["a"]],components:{},data:function(){var e=this,t=B["b"].map((function(t){return{label:e.$t(t.label),value:t.value}}));return{t:this.$t.bind(this),formModelKey:"companyFormDetails",currencyLongOptions:t}},computed:J({},Object(l["c"])("company",["companyUpdateErrorCode","companyFormDetails","companyDetails","companyId","isCompanyCalendarLocationVisible"])),watch:{isCompanyCalendarLocationVisible:function(){this.updateCompanyFormDetails()}},methods:J({getErrorMessage:S["a"],setupSuggestedTimezone:function(){this.selectLocationTimezone(this.suggestedTimezone)},editIndividualCompany:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,r,a,i,n,o,s,c,l,d,u,m,p,f,h,y,b,_,g,q,x,O,$,w,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.formModel,r=t.id,a=t.name,i=t.description,n=t.hostnameType,o=t.clientDomain,s=t.subdomain,c=t.urlPath,l=t.websiteUrl,d=t.currency,u=t.activityType,m=t.email,p=t.phone,f=t.vk,h=t.facebook,y=t.instagram,b=t.telegram,_=t.whatsapp,g=t.viber,q=t.addressLine,x=t.timezone,O=t.locationId,$=this.companyDetails.addressLine,w=$===q?this.formModel.latitude:null,C=$===q?this.formModel.longitude:null,e.prev=4,e.next=7,this.updateIndividualCompany({variables:{company:{id:r,name:a,description:i,activityType:u,hostnameType:n,clientDomain:o,subdomain:s,urlPath:c,websiteUrl:l,currency:d,phone:p,vk:f,facebook:h,instagram:y,telegram:b,whatsapp:_,viber:g},location:{id:O,email:m,phone:p,addressLine:q,timezone:x,latitude:w,longitude:C}}});case 7:this.companyUpdateErrorCode?this.$q.notify({type:"negative",message:this.companyUpdateErrorCode}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("company_form_success_updated")}),v["a"].logEvent("company-location-page","update-location-details-saved",O,0,this.$router.currentRoute)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.$q.notify({type:"negative",message:this.$t("company_form_errors_can_not_save")});case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(){return e.apply(this,arguments)}return t}(),saveChanges:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateFormAndNotify()){e.next=2;break}return e.abrupt("return");case 2:this.editIndividualCompany();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$v.$reset(),this.hideCompanyCalendarLocationForm()}},Object(l["d"])("company",["hideCompanyCalendarLocationForm","updateCompanyFormDetails"]),{},Object(l["d"])("location",["selectLocationTimezone"]),{},Object(l["b"])("company",["updateIndividualCompany"])),validations:{formModel:{addressLine:{maxLength:Object(_["maxLength"])(255)},timezone:{required:_["required"]},currency:{required:_["required"]}}}},G=Y,Q=Object($["a"])(G,V,H,!1,null,null,null),X=Q.exports,Z=r("16b5"),ee=r("2f1c"),te=r("f27a");function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie={name:"CompanyCalendarLocationDetails",mixins:[u["a"],m["a"]],props:{companyId:[Number,String],required:!0},components:{CompanyCalendarLocationForm:X,locationMap:te["a"]},data:function(){return{formModelKey:"companyDetails"}},computed:ae({},Object(l["c"])("company",["companyDetails"]),{isNotFetched:function(){return!(this.companyDetails&&this.companyDetails.id)},formattedTimezone:function(){return Object(Z["a"])(this.formModel.timezone,this.$t.bind(this),this.$i18n.locale)},formattedCurrency:function(){return Object(ee["a"])(this.formModel.currency)}}),methods:ae({},Object(l["b"])("company",["fetchIndividualCompanyDetails"]),{},Object(l["d"])("company",["showCompanyCalendarLocationForm","setCompanyId"]),{fetch:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchIndividualCompanyDetails({variables:{id:this.companyId}});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openCompanyCalendarLocationForm:function(e){e&&this.setCompanyId(e),this.showCompanyCalendarLocationForm()}})},ne=ie,oe=Object($["a"])(ne,U,N,!1,null,null,null),se=oe.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-body2",class:e.$q.screen.lt.sm?"q-px-sm":""},[r("q-field",{staticClass:"q-mb-md",attrs:{borderless:"","stack-label":"",hint:e.$t("company_settings_field_allowBooking_helper")}},[r("q-toggle",{attrs:{color:"primary",label:e.$t("company_settings_field_allowBooking")},on:{input:function(t){return e.saveChanges()}},model:{value:e.formModel.allowBooking.value,callback:function(t){e.$set(e.formModel.allowBooking,"value",t)},expression:"formModel.allowBooking.value"}})],1),r("q-field",{staticClass:"q-mb-md",attrs:{borderless:"",hint:e.$t("company_settings_field_fixScheduleSlots_helper")}},[r("q-toggle",{attrs:{color:"primary",label:e.$t("company_settings_field_fixScheduleSlots")},on:{input:e.onFixScheduleChanges},model:{value:e.formModel.fixScheduleSlots.value,callback:function(t){e.$set(e.formModel.fixScheduleSlots,"value",t)},expression:"formModel.fixScheduleSlots.value"}})],1),e.formModel.fixScheduleSlots.value?r("q-field",{attrs:{borderless:"","stack-label":"",hint:e.$t("company_settings_field_initial_time_helper"),label:e.$t("company_settings_field_initial_time")}},[r("template",{slot:"control"},[r("div",{staticClass:"row items-start"},[e.formModel.fixScheduleSlots.value?r("q-option-group",{staticClass:"col-xs-4",attrs:{options:e.initialTimes,type:"radio"},on:{input:function(t){return e.saveChanges()}},model:{value:e.formModel.scheduleInitialTime.value,callback:function(t){e.$set(e.formModel.scheduleInitialTime,"value",t)},expression:"formModel.scheduleInitialTime.value"}}):e._e(),r("div",{staticClass:"col-xs-8 row q-pt-md text-caption"},[r("div",{staticClass:"col-xs-12"},[e._v(e._s(e.$t("company_settings_field_initial_time_preview")))]),r("div",{staticClass:"col-xs-12"},[e._v("\n                "+e._s(e.$t("company_settings_field_initial_time_start"))+":\n                "+e._s(e._f("timeHHmmText")(e.demoArray[0].start))+"\n              ")]),r("div",{staticClass:"col-xs-12"},[e._v("\n                "+e._s(e.$t("company_settings_field_initial_time_end"))+":\n                "+e._s(e._f("timeHHmmText")(e.demoArray[0].end))+"\n              ")]),r("div",{staticClass:"col-xs-12"},[e._v("\n                "+e._s(e.$t("company_settings_field_initial_service_duration"))+":\n                "+e._s(e.$t("company_settings_field_initial_1h"))+"\n              ")]),r("div",{staticClass:"col-xs-12"},[e._v("\n                "+e._s(e.$t("company_settings_field_initial_available"))+":\n              ")]),r("div",{staticClass:"col-xs-12 q-pt-sm"},e._l(e.initialIntervalsPreview,(function(t,a){return r("q-btn",{key:a,staticClass:"q-mx-xs q-mb-xs",attrs:{rounded:"",outline:"",color:"secondary"}},[e._v("\n                  "+e._s(e._f("timeHHmmText")(t.start))+"\n                ")])})),1)])],1)])],2):e._e(),r("q-field",{attrs:{borderless:"","stack-label":"",hint:e.$t("company_settings_field_allowedViewMode_helper"),label:e.$t("company_settings_field_allowedViewMode"),error:e.$v.formModel.allowedViewMode.value&&e.$v.formModel.allowedViewMode.value.$error,"error-message":e.getErrorMessage(e.$v.formModel.allowedViewMode.value,e.t)}},[r("template",{slot:"control"},[r("div",{staticClass:"row items-start"},[r("q-option-group",{attrs:{inline:"",options:e.viewModes,disable:e.isAllowedViewModeDisabled,type:"checkbox"},on:{input:function(t){return e.saveChanges()}},model:{value:e.formModel.allowedViewMode.value,callback:function(t){e.$set(e.formModel.allowedViewMode,"value",t)},expression:"formModel.allowedViewMode.value"}})],1)])],2),r("q-field",{staticClass:"q-m-md",attrs:{borderless:"","stack-label":"",hint:e.$t("company_settings_field_intervalDuration_helper"),label:e.$t("company_settings_field_intervalDuration")}},[r("template",{slot:"control"},e._l(e.intervals,(function(t,a){return r("q-radio",{key:a,staticClass:"q-mx-xs",attrs:{val:t,label:t+" "+e.$t("minutes")},on:{input:function(t){return e.saveChanges()}},model:{value:e.formModel.scheduleIntervalDuration.value,callback:function(t){e.$set(e.formModel.scheduleIntervalDuration,"value",t)},expression:"formModel.scheduleIntervalDuration.value"}})})),1)],2)],1)},le=[],de={intervals:[5,10,15,20,30,60],initialTimes:[0,5,10,15,20,30,60],initialTimesOptions:[{label:"schedule_start_time_interval_off",value:0},{label:"schedule_start_time_interval_5min",value:5},{label:"schedule_start_time_interval_10min",value:10},{label:"schedule_start_time_interval_15min",value:15},{label:"schedule_start_time_interval_20min",value:20},{label:"schedule_start_time_interval_30min",value:30},{label:"schedule_start_time_interval_60min",value:60}]},ue=r("dcea"),me=r("d76a"),pe=r("7f45"),fe=r.n(pe),he=r("c7be");function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var be={name:"CompanySettingsForm",mixins:[u["a"]],props:{companyId:{type:[Number,String],required:!0}},data:function(){var e=this,t="Europe/Saratov";return de.initialTimesOptions.forEach((function(t){t.label=e.$t(t.label)})),{t:this.$t.bind(this),formModelKey:"companySettings",intervals:de.intervals,initialTimes:de.initialTimesOptions,viewModes:he["d"].map((function(t){return{label:e.$t(t.label),value:t.value}})),demoArray:[{type:me["a"].free,start:fe.a.tz("2019-07-23T09:00:00",t),end:fe.a.tz("2019-07-23T12:00:00",t)}]}},computed:ve({},Object(l["c"])("companySettings",["companySettingsUpdateError","companySettings"]),{initialIntervalsPreview:function(){if(this.formModel.scheduleInitialTime){var e=this.formModel.scheduleInitialTime.value,t=60,r=Object(ue["d"])(this.demoArray,t,e);return r}return[]},isAllowedViewModeDisabled:function(){return!(this.formModel&&this.formModel.fixScheduleSlots&&this.formModel.fixScheduleSlots.value)}}),mounted:function(){this.fetchCompanySettings({variables:{companyId:this.companyId}})},methods:ve({},Object(l["b"])("companySettings",["fetchCompanySettings","updateCompanySettings"]),{saveChanges:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateFormAndNotify()){e.next=2;break}return e.abrupt("return");case 2:return t=[this.formModel.allowBooking,this.formModel.allowAnonymousBooking,this.formModel.fixScheduleSlots,this.formModel.allowedViewMode,this.formModel.scheduleInitialTime,this.formModel.scheduleIntervalDuration],r=t.map((function(e){return{id:e.id,key:e.key,value:JSON.stringify(e.value)}})),e.prev=4,e.next=7,this.updateCompanySettings({variables:{companyId:this.companyId,input:r}});case 7:this.companySettingsUpdateError?this.$q.notify({type:"negative",message:this.companySettingsUpdateError}):(this.$q.notify({type:"positive",message:this.$t("company_settings_success_updated")}),v["a"].logEvent("calendar-config-page","update-company-calendar-settings-saved",this.companyId,0,this.$router.currentRoute)),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),this.$q.notify({type:"negative",message:this.$t("company_settings_errors_can_not_save")});case 13:case"end":return e.stop()}}),e,this,[[4,10]])})));function t(){return e.apply(this,arguments)}return t}(),onFixScheduleChanges:function(e){this.formModel.allowedViewMode.value=e?[he["h"].calendar,he["h"].slots]:[he["h"].calendar],this.saveChanges()},getErrorMessage:S["a"]}),validations:{formModel:{allowedViewMode:{value:{required:_["required"]}}}}},_e=be,ge=Object($["a"])(_e,ce,le,!1,null,null,null),qe=ge.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.locationScheduleList?r("entity-list",{attrs:{list:e.locationScheduleList,isPossibleToOpenDetailsPage:!1,isPossibleToOpenDetails:!1,isPossibleToConfirm:!1,isPossibleToDelete:!0,namespace:"locationSchedule"},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.entity;return[a.schedule&&a.schedule.name?r("span",[e._v("\n        "+e._s(a.schedule.name)+"\n      ")]):e._e()]}},{key:"info",fn:function(t){var a=t.entity;return[a.schedule.activeDateStart&&a.schedule.activeDateEnd?r("div",[r("span",[e._v(e._s(e.$t("location_schedule_list_title")))]),r("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n          "+e._s(e._f("dateText")(a.schedule.activeDateStart))+"\n          - "+e._s(e._f("dateText")(a.schedule.activeDateEnd))+":\n        ")])]):e._e(),a.service?r("div",[r("span",[e._v(e._s(e.$t("field_service"))+": ")]),r("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(a.service.name))])]):e._e()]}},{key:"main",fn:function(t){var a=t.entity;return[a.daysOfWeek?r("div",e._l(a.daysOfWeek,(function(t){return r("q-list",{key:t.dayOfWeek,attrs:{highlight:"","no-border":"",dense:""}},[r("q-item",{staticClass:"row"},[r("q-item-section",{staticClass:"col-5",attrs:{side:""}},[e._v(e._s(e.$t(t.label))+": ")]),r("q-item-section",[e._l(t.times,(function(t){return r("div",{key:t.id},[t.startTime&&t.endTime?r("span",[e._v("\n                  "+e._s(t.startTime)+" - "+e._s(t.endTime)+"\n                ")]):e._e()])})),t.isFullDay?r("div",[e._v(e._s(e.$t("all_day")))]):e._e(),0===t.times.length?r("div",[e._v(e._s(e.$t("day_off")))]):e._e(),1===t.times.length&&t.times[0].isDayOff?r("div",[e._v("\n                "+e._s(e.$t("day_off"))+"\n              ")]):e._e()],2)],1)],1)})),1):e._e()]}}],null,!1,804263810)}):e._e(),e.locationId?r("schedule-form",{attrs:{id:e.locationId,namespace:"locationSchedule"}}):e._e()],1)},Oe=[],$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isScheduleFormVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"bg-white q-pa-lg text-grey-9"},[r("div",{staticClass:"q-my-sm"},[r("div",{staticClass:"text-h5"},[e._v("\n                "+e._s(e.$t(e.isCreation?"schedule_create_page_title":"schedule_edit_page_title"))+"\n            ")])]),r("div",{staticClass:"row"},[r("q-input",{staticClass:"col-xs-12 col-md-6 q-px-xs",attrs:{label:e.$t("schedule_form_field_activeDateStart")+"*",hint:e.$t("schedule_form_field_activeDateStart_helper"),rounded:"",standout:"bg-grey-2 text-grey-14","bottom-slots":"",error:e.$v.formModel.schedule.activeDateStart.$error,"error-message":e.getErrorMessage(e.$v.formModel.schedule.activeDateStart,e.t)},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[r("q-popup-proxy",{ref:"activeDateStart",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{mask:e.dateTemplate},on:{input:function(){return e.$refs.activeDateStart.hide()}},model:{value:e.formActiveDateStart,callback:function(t){e.formActiveDateStart=t},expression:"formActiveDateStart"}})],1)],1)]},proxy:!0}]),model:{value:e.formActiveDateStart,callback:function(t){e.formActiveDateStart=t},expression:"formActiveDateStart"}}),r("q-input",{staticClass:"col-xs-12 col-md-6 q-px-xs",attrs:{label:e.$t("schedule_form_field_activeDateEnd")+"*",hint:e.$t("schedule_form_field_activeDateEnd_helper"),rounded:"",standout:"bg-grey-2 text-grey-14","bottom-slots":"",error:e.$v.formModel.schedule.activeDateEnd.$error,"error-message":e.getErrorMessage(e.$v.formModel.schedule.activeDateEnd,e.t)},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[r("q-popup-proxy",{ref:"activeDateEnd",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{mask:e.dateTemplate},on:{input:function(){return e.$refs.activeDateEnd.hide()}},model:{value:e.formActiveDateEnd,callback:function(t){e.formActiveDateEnd=t},expression:"formActiveDateEnd"}})],1)],1)]},proxy:!0}]),model:{value:e.formActiveDateEnd,callback:function(t){e.formActiveDateEnd=t},expression:"formActiveDateEnd"}}),r("select-input",{staticClass:"col-xs-12 col-md-6 q-px-xs",attrs:{"is-scoped":"",label:e.$t("field_service"),placeholder:e.$t("field_service"),hint:e.$t("location_schedule_list_service_title_helper"),model:e.selectedService,options:e.serviceListOptions,onInput:function(t){return e.field.value=t}}},[r("template",{slot:"prepend"},[r("q-icon",{attrs:{name:"shop"}})],1)],2),r("q-input",{staticClass:"col-xs-12 col-md-6 q-px-xs",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:e.$t("schedule_form_field_name"),maxlength:"100","bottom-slots":"",error:e.$v.formModel.schedule.name.$error,"error-message":e.getErrorMessage(e.$v.formModel.schedule.name,e.t)},model:{value:e.formModel.schedule.name,callback:function(t){e.$set(e.formModel.schedule,"name","string"===typeof t?t.trim():t)},expression:"formModel.schedule.name"}},[r("template",{slot:"prepend"},[r("q-icon",{attrs:{name:"title"}})],1)],2),r("q-input",{staticClass:"col-xs-12 col-md-6 q-px-xs",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:e.$t("schedule_form_field_description"),maxlength:"255",error:e.$v.formModel.schedule.description.$error,"error-message":e.getErrorMessage(e.$v.formModel.schedule.description,e.t)},model:{value:e.formModel.schedule.description,callback:function(t){e.$set(e.formModel.schedule,"description","string"===typeof t?t.trim():t)},expression:"formModel.schedule.description"}},[r("template",{slot:"prepend"},[r("q-icon",{attrs:{name:"description"}})],1)],2)],1),r("div",[r("schedule",{attrs:{days:e.days,addTimeToDayFn:e.addTimeToDay,removeTimeFromDayFn:e.removeTime,applyFullDayFn:e.applyFullDay}})],1)])],1),r("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t(e.isCreation?"action_create":"action_edit"),color:"primary",icon:"save"},on:{click:e.saveChanges}})],1)],1)],1)},we=[],Ce=(r("7514"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-list",{attrs:{separator:"","no-border":""}},e._l(e.days,(function(t,a){return r("day-schedule",{key:a,attrs:{daySchedule:t,addTimeToDayFn:e.addTimeToDayFn,applyFullDayFn:e.applyFullDayFn,removeTimeFromDayFn:e.removeTimeFromDayFn}})})),1)}),Se=[],De=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-item",[r("div",{staticClass:"row q-my-xs items-start day-schedule"},[e.daySchedule.label?r("div",{staticClass:"col-xs-12 col-sm-auto q-pt-sm"},[r("div",{staticStyle:{width:"160px"}},[e._v("\n      "+e._s(e.$t(e.daySchedule.label))+"\n      ")])]):e._e(),r("div",{staticClass:"col-xs-12 col-sm-auto row no-wrap q-mb-sm q-pt-sm"},[r("q-btn-toggle",{attrs:{rounded:"",separator:"","toggle-color":"primary",options:[{label:e.$t("schedule_form_field_isFullDay"),value:"isFullDay"},{label:e.$t("day_off"),value:"isDayOff"}]},on:{input:function(t){return e.applyFullDayFn({daySchedule:e.daySchedule})}},model:{value:e.daySchedule.specialHours,callback:function(t){e.$set(e.daySchedule,"specialHours",t)},expression:"daySchedule.specialHours"}}),r("div",{staticClass:"col-xs-auto q-mx-md"},[r("q-btn",{attrs:{rounded:"",color:e.daySchedule.isFullDay||e.daySchedule.isDayOff?"":"primary","text-color":e.daySchedule.isFullDay||e.daySchedule.isDayOff?"primary":"white",icon:"add"},on:{click:function(t){return e.addTimeToDayFn({daySchedule:e.daySchedule})}}})],1)],1),r("div",{staticClass:"row col-xs-12 col-sm q-mb-sm"},e._l(e.daySchedule.times,(function(t,a){return r("div",{directives:[{name:"show",rawName:"v-show",value:e.daySchedule.times&&e.daySchedule.times.length&&!e.daySchedule.isFullDay&&!e.daySchedule.isDayOff,expression:"daySchedule.times && daySchedule.times.length &&\n                !daySchedule.isFullDay && !daySchedule.isDayOff"}],key:a,staticClass:"row col-xs-12 q-mb-xs no-wrap"},[r("div",{staticClass:"col-auto q-ml-sm q-mr-xs q-ml-md"},[r("q-input",{staticStyle:{width:"90px"},attrs:{"input-class":"text-center"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[r("q-popup-proxy",{ref:"startTime",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-time",{attrs:{mask:e.shortTimeTemplate,format24h:""},on:{input:function(){return e.$refs.startTime[a].hide()}},model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"dayTime.startTime"}})],1)],1)]},proxy:!0}],null,!0),model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"dayTime.startTime"}})],1),r("div",{staticClass:"col-auto q-mr-md"},[r("q-input",{staticStyle:{width:"90px"},attrs:{"input-class":"text-center"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[r("q-popup-proxy",{ref:"endTime",refInFor:!0,attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-time",{attrs:{mask:e.shortTimeTemplate,format24h:""},on:{input:function(){return e.$refs.endTime[a].hide()}},model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"dayTime.endTime"}})],1)],1)]},proxy:!0}],null,!0),model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"dayTime.endTime"}})],1),r("div",{staticClass:"col-auto q-pt-sm"},[r("q-btn",{staticClass:"q-mx-xs",attrs:{round:"",icon:"clear",color:"negative"},on:{click:function(r){return e.removeTimeFromDayFn({dayTime:t,daySchedule:e.daySchedule})}}})],1)])})),0)])])},je=[],Me={name:"daySchedule",props:{daySchedule:{default:function(){},type:Object},addTimeToDayFn:{type:Function},removeTimeFromDayFn:{type:Function},applyFullDayFn:{type:Function}},data:function(){return{shortTimeTemplate:b["M"]}},watch:{specialHours:function(e){this.daySchedule[e]=!0}}},ke=Me,Te=(r("7596"),Object($["a"])(ke,De,je,!1,null,null,null)),Ee=Te.exports,Fe={name:"schedule",components:{daySchedule:Ee},props:{days:{default:function(){return[]},type:Array},addTimeToDayFn:{type:Function},removeTimeFromDayFn:{type:Function},applyFullDayFn:{type:Function}}},Ie=Fe,Pe=Object($["a"])(Ie,Ce,Se,!1,null,null,null),Le=Pe.exports,ze=r("c1df"),Ae=r.n(ze);function Re(e,t,r,a){var i=[];return!a&&e.length>0&&e[0].startTime&&(a=Ae()(e[0].startTime).day()),e.forEach((function(e){var n=e.isNewRecord?null:e.id;i.push({id:n,dayOfWeek:a,isFullDay:t,isDayOff:r,startTime:Object(b["n"])(e.startTime),endTime:Object(b["n"])(e.endTime)})})),i}function Ue(e){var t=[];return e&&e.forEach((function(e){if(e.times){var r=Re(e.times,e.isFullDay,e.isDayOff,e.dayOfWeek);t=t.concat(r)}})),t}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var He={name:"ScheduleForm",mixins:[u["a"]],components:{schedule:Le},props:{namespace:{type:String,required:!0},id:{type:[Number,String],required:!1}},data:function(){return{t:this.$t.bind(this),dateTemplate:b["c"],formModelKey:"".concat(this.namespace,"Details")}},computed:Ve({formModel:function(){return this.$store.getters["".concat(this.namespace,"/").concat(this.namespace,"Details")]},days:function(){return this.$store.getters["".concat(this.namespace,"/DaysSchedule")]},scheduleCreateError:function(){return this.$store.getters["".concat(this.namespace,"/CreateError")]},scheduleUpdateError:function(){return this.$store.getters["".concat(this.namespace,"/UpdateError")]},scheduleId:function(){return this.$store.getters["".concat(this.namespace,"/scheduleId")]},isScheduleFormVisible:function(){return this.$store.getters["".concat(this.namespace,"/isScheduleFormVisible")]}},Object(l["c"])("auth",["currentUserTimezone"]),{isCreation:function(){return!this.scheduleId}},Object(l["c"])("companyService",["serviceListOptions"]),{selectedService:{get:function(){if(this.serviceListOptions&&this.serviceListOptions.length){var e=this.formModel.service?this.formModel.service.id:null,t=this.serviceListOptions.find((function(t){return t.value.id===e}));if(t)return t.value}return null},set:function(e){this.formModel.service=e}},formActiveDateStart:{get:function(){return Object(b["k"])(this.formModel.schedule.activeDateStart)},set:function(e){this.formModel.schedule.activeDateStart=Object(b["f"])(e,this.currentUserTimezone)}},formActiveDateEnd:{get:function(){return Object(b["k"])(this.formModel.schedule.activeDateEnd)},set:function(e){this.formModel.schedule.activeDateEnd=Object(b["g"])(e,this.currentUserTimezone)}}}),watch:{scheduleId:function(){this.fetchScheduleDetails({variables:{id:+this.scheduleId}})}},methods:Ve({},Object(l["d"])({hideForm:function(e,t){return e("".concat(this.namespace,"/hideForm"),t)},setSelectedId:function(e,t){return e("".concat(this.namespace,"/setSelectedId"),t)},addTimeToDay:function(e,t){return e("".concat(this.namespace,"/addTimeToDay"),t)},removeTime:function(e,t){return e("".concat(this.namespace,"/removeTime"),t)},applyFullDay:function(e,t){return e("".concat(this.namespace,"/applyFullDay"),t)}}),{},Object(l["b"])({fetchScheduleDetails:function(e,t){return e("".concat(this.namespace,"/fetchScheduleDetails"),t)},createSchedule:function(e,t){return e("".concat(this.namespace,"/createSchedule"),t)},updateSchedule:function(e,t){return e("".concat(this.namespace,"/updateSchedule"),t)}}),{getErrorMessage:S["a"],getRequestData:function(){var e=this.formModel.schedule,t=e.name,r=e.description,a=e.activeDateStart,i=e.activeDateEnd,n=this.formModel.service&&this.formModel.service.id?this.formModel.service.id:null,o=Ue(this.days);return{name:t,description:r,serviceId:n,activeDateStart:a,activeDateEnd:i,times:o}},createNewSchedule:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createSchedule({variables:{id:this.id,input:this.getRequestData()}});case 3:this.scheduleCreateError?this.$q.notify({type:"negative",message:this.scheduleCreateError}):(this.$q.notify({type:"positive",message:this.$t("schedule_form_success_created")}),v["a"].logEvent("company-schedule-page","create-company-schedule-saved","",0,this.$router.currentRoute),this.cancel()),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:this.$t("schedule_form_errors_can_not_save")});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),editSchedule:function(){var e=o()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.formModel.id,e.prev=1,e.next=4,this.updateSchedule({variables:{id:t,input:this.getRequestData()}});case 4:this.scheduleUpdateError?this.$q.notify({type:"negative",message:this.scheduleUpdateError}):(this.$q.notify({type:"positive",message:this.$t("schedule_form_success_updated")}),v["a"].logEvent("company-schedule-page","update-company-schedule-saved","",0,this.$router.currentRoute),this.cancel()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),this.$q.notify({type:"negative",message:this.$t("schedule_form_errors_can_not_save")});case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}(),saveChanges:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateFormAndNotify()){e.next=2;break}return e.abrupt("return");case 2:if(!this.isCreation){e.next=7;break}return e.next=5,this.createNewSchedule();case 5:e.next=9;break;case 7:return e.next=9,this.editSchedule();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$v.$reset(),this.hideForm()}}),validations:{formModel:{schedule:{name:{maxLength:Object(_["maxLength"])(100)},description:{maxLength:Object(_["maxLength"])(255)},activeDateStart:{required:_["required"]},activeDateEnd:{required:_["required"]}}}}},Be=He,Ke=Object($["a"])(Be,$e,we,!1,null,null,null),We=Ke.exports,Je=r("03bb");function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qe={name:"CompanyScheduleList",mixins:[u["a"]],components:{EntityList:F["a"],ScheduleForm:We},props:{companyId:{type:[Number,String],required:!0},locationId:{type:[Number,String],required:!0}},computed:Ge({},Object(l["c"])("locationSchedule",["locationScheduleList"]),{},Object(l["c"])("companyService",["serviceList"])),mounted:function(){this.fetchList()},methods:Ge({},Object(l["b"])("locationSchedule",["fetchLocationScheduleList","deleteLocationSchedule"]),{fetchList:function(){this.fetchLocationScheduleList({variables:{locationId:this.locationId,scheduleTypes:[Je["a"].ordinary],startDate:Object(b["D"])(Ae()())}})}}),watch:{serviceList:function(){this.fetchList()}}},Xe=Qe,Ze=Object($["a"])(Xe,xe,Oe,!1,null,null,null),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.holidayList?r("entity-list",{attrs:{list:e.holidayList,namespace:"holiday",isPossibleToOpenDetailsPage:!1,isPossibleToOpenDetails:!1,isPossibleToConfirm:!0,isPossibleToDelete:!0},scopedSlots:e._u([{key:"title",fn:function(t){var a=t.entity;return[r("span",[e._v(e._s(e._f("longDateText")(a.date)))])]}},{key:"info",fn:function(t){var a=t.entity;return[r("div",{staticStyle:{"max-width":"150px"}},[e._v(e._s(e.$t(e.scheduleTypesLabels[a.type])))])]}},{key:"main",fn:function(t){var a=t.entity;return[r("div",{staticStyle:{"max-width":"150px"}},[e._v(e._s(a.description))])]}}],null,!1,2972854102)}):e._e(),e.locationId?r("holiday-form",{attrs:{locationId:e.locationId}}):e._e()],1)},rt=[],at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isHolidayFormVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"bg-white q-pa-lg"},[r("div",{staticClass:"q-my-sm"},[r("div",{staticClass:"text-h5"},[e._v("\n                "+e._s(e.$t(e.isCreation?"holiday_create_page_title":"holiday_edit_page_title"))+"\n            ")])]),r("div",{staticClass:"row"},[r("q-input",{staticClass:"col-xs-12 q-px-xs",attrs:{readonly:e.formModel.isOfficialHoliday,rounded:"",standout:"bg-grey-2 text-grey-14","bottom-slots":"",error:e.$v.formModelDate.$error,"error-message":e.getErrorMessage(e.$v.formModelDate,e.t)},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[r("q-popup-proxy",{ref:"datePicked",attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{mask:e.dateTemplate},on:{input:function(){return e.$refs.datePicked.hide()}},model:{value:e.formModelDate,callback:function(t){e.formModelDate=t},expression:"formModelDate"}})],1)],1)]},proxy:!0}]),model:{value:e.formModelDate,callback:function(t){e.formModelDate=t},expression:"formModelDate"}})],1),r("div",[r("day-schedule",{attrs:{daySchedule:e.formModel,addTimeToDayFn:e.addTimeToDay,applyFullDayFn:e.applyFullDay,removeTimeFromDayFn:e.removeTime}})],1)])],1),r("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t(e.isCreation?"action_create":"action_edit"),color:"primary",icon:"save"},on:{click:e.saveChanges}})],1)],1)],1)},it=[];function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st={name:"HolidayForm",mixins:[u["a"]],components:{DaySchedule:Ee},props:{locationId:{type:[Number,String],required:!0}},data:function(){return{t:this.$t.bind(this),dateTemplate:b["c"],formModelKey:"holidayDetails",formDate:null}},computed:ot({},Object(l["c"])("holiday",["holidayId","isHolidayFormVisible","CreateError","UpdateError","holidayDetails"]),{},Object(l["c"])("auth",["currentUserTimezone"]),{isCreation:function(){return this.formModel.isOfficialHoliday||!this.holidayId},formModelDate:{get:function(){return Object(b["m"])(this.formDate||this.formModel.date)},set:function(e){this.formDate=Object(b["e"])(e,this.currentUserTimezone)}}}),watch:{holidayId:function(){this.HOLIDAY_DETAILS_UPDATE(this.holidayId)}},methods:ot({},Object(l["d"])("holiday",["hideForm","setSelectedId","addTimeToDay","removeTime","applyFullDay","HOLIDAY_DETAILS_UPDATE"]),{},Object(l["b"])("holiday",["createSchedule","updateSchedule"]),{getErrorMessage:S["a"],getRequestData:function(){var e=this.formModel,t=e.name,r=e.description,a=e.isFullDay,i=e.isDayOff,n=this.formDate,o=Re(this.formModel.times,a,i,Ae()(n).day()),s=Ae()(n,b["K"]).tz(this.currentUserTimezone),c=Ae()(n,b["K"]).endOf("day").tz(this.currentUserTimezone);return{name:t,description:r,activeDateStart:s.format(b["L"]),activeDateEnd:c.format(b["L"]),times:o,isSpecial:!0,serviceId:null}},createHoliday:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.createSchedule({variables:{id:this.locationId,input:this.getRequestData()}});case 3:this.CreateError?this.$q.notify({type:"negative",message:this.CreateError}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("holiday_form_success_created")}),v["a"].logEvent("company-schedule-page","create-company-special-schedule-saved","",0,this.$router.currentRoute)),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:this.$t("holiday_form_errors_can_not_save")});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),editHoliday:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.updateSchedule({variables:{id:this.formModel.id,input:this.getRequestData()}});case 3:this.UpdateError?this.$q.notify({type:"negative",message:this.UpdateError}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("holiday_form_success_updated")}),v["a"].logEvent("company-schedule-page","update-company-special-schedule-saved","",0,this.$router.currentRoute)),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$q.notify({type:"negative",message:this.$t("holiday_form_errors_can_not_save")});case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),saveChanges:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateAllAndNotify()){e.next=2;break}return e.abrupt("return");case 2:this.isCreation?this.createHoliday():this.editHoliday();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$v.$reset(),this.hideForm()}}),validations:{formModelDate:{required:_["required"]}}},ct=st,lt=Object($["a"])(ct,at,it,!1,null,null,null),dt=lt.exports;function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pt={name:"CompanyHolidayScheduleList",components:{EntityList:F["a"],HolidayForm:dt},props:{companyId:{type:[Number,String],required:!0},locationId:{type:[Number,String],required:!0}},data:function(){return{scheduleTypesLabels:Je["b"]}},computed:mt({},Object(l["c"])("holiday",["holidayList"])),mounted:function(){this.fetchLocationSchedulesAndHolidaysList({variables:{locationId:this.locationId,scheduleTypes:[Je["a"].special],startDate:Object(b["D"])(Ae()())},$t:this.$t.bind(this)})},methods:mt({},Object(l["b"])("holiday",["deleteRecord","fetchLocationSchedulesAndHolidaysList"]))},ft=pt,ht=Object($["a"])(ft,tt,rt,!1,null,null,null),yt=ht.exports,vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isImageFormVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"q-pa-md"},[r("div",{staticClass:"row justify-center full-height items-center"},[r("div",{staticClass:"q-ma-lg"},[r("croppa",{attrs:{width:e.size,height:e.size,"initial-image":e.initialImage,placeholder:e.$t("logo_form_choose_image"),"placeholder-font-size":12,"image-border-radius":e.round?e.size:5,"prevent-white-space":!0,"show-remove-button":!1,"zoom-speed":5},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}},[r("img",{attrs:{slot:"initial",crossOrigin:"anonymous",src:"initialLogo"},slot:"initial"})])],1),r("div",{staticClass:"col-xs-12 q-my-lg row justify-center"},[r("q-toggle",{attrs:{color:"primary",label:e.$t("logo_form_round")},model:{value:e.round,callback:function(t){e.round=t},expression:"round"}})],1)])])],1),r("q-footer",{staticClass:"bg-white q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_save"),color:"primary",icon:"save"},on:{click:e.upload}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_delete"),color:"negative",icon:"clear"},on:{click:e.clear}})],1)],1)],1)},bt=[],_t=r("2b0e"),gt=r("2896"),qt=r.n(gt);function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}_t["a"].use(qt.a);var $t={name:"LogoForm",props:{namespace:{type:String},initialImageSrc:{required:!1}},components:{croppa:qt.a.component},data:function(){return{size:this.$q.screen.lt.sm?200:300,round:!1,image:{}}},computed:Ot({},Object(l["c"])("image",["isImageFormVisible"]),{initialImage:function(){var e=new Image;return e.src=this.initialImageSrc,e}}),methods:Ot({},Object(l["d"])("image",["hideImageForm"]),{},Object(l["b"])("image",["uploadImage"]),{upload:function(){var e=o()(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.image.promisedBlob("image/png",.8);case 2:return t=e.sent,r=new File([t],"logo.png",{type:"image/png"}),e.next=6,this.uploadImage({file:r,type:"logo"});case 6:a=e.sent,this.$q.notify({type:"positive",message:this.$t("logo_form_loaded")}),this.updateLogo(a),this.cancel();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Object(l["b"])({updateLogo:function(e,t){return e("".concat(this.namespace,"/updateLogo"),t)}}),{clear:function(){this.image.remove()},cancel:function(){this.clear(),this.hideImageForm()}})},wt=$t,Ct=Object($["a"])(wt,vt,bt,!1,null,null,null),St=Ct.exports,Dt=r("b06b");function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kt={name:"CompanyCalendarConfig",mixins:[d["a"],u["a"],m["a"]],props:{companyId:[Number,String],required:!0},components:{CompanySettings:qe,CompanyServiceList:R,CompanyScheduleList:et,CompanyHolidayScheduleList:yt,CompanyCalendarLocation:se,locationMap:te["a"],logoForm:St},data:function(){return{formModelKey:"companyDetails"}},computed:Mt({},Object(l["c"])("company",["companyDetails"]),{isNotFetched:function(){return!0},formattedTimezone:function(){return Object(Z["a"])(this.formModel.timezone,this.$t.bind(this),this.$i18n.locale)},calendarLink:function(){return"".concat(this.companyDetails.finalPath,"/calendar")}}),mounted:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.trackUserAction({actionName:"openCalendarConfigPage"});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:Mt({},Object(l["b"])("auth",["trackUserAction"]),{},Object(l["b"])("company",["fetchIndividualCompanyDetails"]),{fetch:function(){var e=o()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchIndividualCompanyDetails({variables:{id:this.companyId}});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openURL:Dt["a"],copyToClipBoard:function(e){var t=this.$refs[e];t.select(),document.execCommand("copy"),this.$q.notify({type:"positive",message:this.$t("url_was_copied")})}})},Tt=kt,Et=(r("f3ac"),Object($["a"])(Tt,a,i,!1,null,null,null));t["default"]=Et.exports},2749:function(e,t,r){},7596:function(e,t,r){"use strict";var a=r("2749"),i=r.n(a);i.a},a8fb:function(e,t,r){},f3ac:function(e,t,r){"use strict";var a=r("a8fb"),i=r.n(a);i.a}}]);