(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"1a14":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"row items-stretch",attrs:{padding:""}},[s("q-no-ssr",{staticClass:"col-xs-12 q-pa-xs"},[s("div",{class:e.$q.screen.lt.sm?"q-pa-xs":"q-px-md q-pt-lg"},[s("div",{staticClass:"q-my-md text-h5"},[s("router-link",{staticClass:"text-primary no-underline",attrs:{to:{name:"landing",params:{path:e.path}}}},[e._v("\n          "+e._s(e.formModel.name)+"\n        ")])],1),s("div",{staticClass:"q-my-md text-caption text-dark"},[e._v("\n        "+e._s(e.formModel.description)+"\n      ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isCompanyTabVisible,expression:"isCompanyTabVisible"}]},[s("div",{staticClass:"q-my-md"},[s("div",{staticClass:"q-my-sm text-subtitle1 text-grey-7"},[e._v("\n            "+e._s(e.$t("appointment_choose_location"))+"\n          ")]),s("div",{staticClass:"row q-mb-sm"},e._l(e.locationList,(function(t){return s("div",{key:t.id,staticClass:"col-xs-12 col-sm-4 row items-stretch",on:{click:function(s){return e.locationChanged(t)}}},[s("q-card",{staticClass:"col cursor-pointer q-pa-md q-mt-sm row content-between",class:{"bg-grey-2":!e.selectedLocation||t.id!==e.selectedLocation.id,"bg-primary text-white":e.selectedLocation&&t.id===e.selectedLocation.id,"q-mr-sm":e.$q.screen.gt.xs}},[s("div",{staticClass:"col-xs-12 text-subtitle1 text-weight-bold"},[e._v("\n                  "+e._s(t.addressLine||e.$t("appointment_empty_location"))+"\n                ")]),e.locationList&&e.locationList.length>1&&e.serviceList?s("div",{staticClass:"col-xs-12 text-caption"},[e._v("\n                  "+e._s(e.serviceList.map((function(e){return e.name})).join(", ")||" ")+"\n                ")]):e._e()])],1)})),0)]),s("div",{staticClass:"q-my-md"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isServiceTabVisible,expression:"isServiceTabVisible"}],staticClass:"q-my-sm text-subtitle1 text-grey-7"},[e._v("\n            "+e._s(e.$t("appointment_choose_service"))+"\n          ")]),s("div",{staticClass:"row items-stretch q-mb-sm"},e._l(e.serviceList,(function(t){return s("div",{key:t.id,staticClass:"col-xs-12 col-sm-4 row items-stretch",on:{click:function(s){return e.serviceChanged(t)}}},[s("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated fadeOut"}},[s("q-card",{directives:[{name:"show",rawName:"v-show",value:e.isServiceTabVisible,expression:"isServiceTabVisible"}],staticClass:"col cursor-pointer q-pa-md q-mt-sm row content-between",class:{"bg-grey-2":!e.selectedService||t.id!==e.selectedService.id,"bg-primary text-white":e.selectedService&&t.id===e.selectedService.id,"q-mr-sm":e.$q.screen.gt.xs}},[s("div",{staticClass:"col-xs-12 text-subtitle1"},[e._v(e._s(t.name))]),s("div",{staticClass:"col-xs-12 text-caption text-weight-light"},[t.price?s("span",{class:{"q-pr-sm":t.duration}},[e._v("\n                      "+e._s(t.price)+" "+e._s(e.localizedCompanyCurrencyShortName)+"\n                    ")]):e._e(),t.duration?s("span",[e._v("\n      "+e._s(e._f("durationText")(e.calculateClientDuration(t.duration,t.durationAfter)))+"\n                    ")]):e._e()])])],1)],1)})),0)]),s("div",{staticClass:"q-my-md"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isExecutorTabVisible&&e.executorList&&e.executorList.length,expression:"isExecutorTabVisible && executorList && executorList.length"}],staticClass:"q-my-sm text-subtitle1 text-grey-7"},[e._v("\n            "+e._s(e.$t("appointment_choose_executor"))+"\n          ")]),s("div",{staticClass:"row items-stretch q-mb-sm"},e._l(e.executorList,(function(t){return s("div",{key:t.id,staticClass:"col-xs-12 col-sm-4",on:{click:function(s){return e.executorChanged(t)}}},[s("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated fadeOut"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isExecutorTabVisible&&e.executorList&&e.executorList.length,expression:"isExecutorTabVisible && executorList && executorList.length"}],staticClass:"col rounded-borders cursor-pointer q-pa-md q-mt-sm row content-between\n                  shadow",class:{"bg-grey-2":t!==e.selectedExecutor,"bg-primary text-white":t===e.selectedExecutor,"q-mr-sm":e.$q.screen.gt.xs}},[s("div",{staticClass:"col-xs-12 text-subtitle1"},[e._v(e._s(t.name))]),s("div",{staticClass:"col-xs-12 text-caption"},[e._v("\n                    "+e._s(t.description||" ")+"\n                  ")])])])],1)})),0)])])]),s("transition",{attrs:{appear:"","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOut"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isScheduleTabVisible,expression:"isScheduleTabVisible"}]},[s("schedule-placeholder",{attrs:{"need-to-show-appointments":!1,"company-id":e.companyId}})],1)]),s("appointment-confirmation")],1)],1)},c=[],n=(s("8e6e"),s("8a81"),s("96cf"),s("c973")),a=s.n(n),o=(s("ac6a"),s("cadf"),s("06db"),s("456d"),s("9523")),r=s.n(o),l=(s("7f7f"),s("2f62")),d=s("4545"),m=s("5944"),u=s("ee47"),h=s("a48e"),p=s("83f8"),v=s("d47e"),b=s("6c4b");function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){r()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={name:"ClientCompanyDetails",components:{schedulePlaceholder:h["a"],appointmentConfirmation:p["a"]},mixins:[d["a"],m["a"],u["a"]],props:{path:{type:String,required:!0}},data:function(){return{companyId:null,formModelKey:"companyDetails"}},meta:function(){return{title:this.formModel.name?"".concat(this.formModel.name," | SEEYOUR.info"):""}},computed:y({},Object(l["c"])("company",["companyDetails","companyCurrencyShortName"]),{localizedCompanyCurrencyShortName:function(){return this.$t(this.companyCurrencyShortName)}},Object(l["c"])("companySettings",["companySettings"]),{},Object(l["c"])("location",["locationList"]),{},Object(l["c"])("companyService",["serviceList"]),{},Object(l["c"])("executor",["executorList"]),{},Object(l["c"])("locationSchedule",["locationScheduleDetails"]),{},Object(l["c"])("scheduleAppointment",["selectedLocation","selectedService","selectedExecutor","isCompanyTabVisible","isServiceTabVisible","isExecutorTabVisible","isScheduleTabVisible"]),{isNotFetched:function(){return!(this.companySettings&&Object.keys(this.companySettings).length&&this.locationList&&this.serviceList)}}),beforeDestroy:function(){this.selectLocation(null),this.selectService(null),this.selectExecutor(null)},methods:y({calculateClientDuration:v["a"]},Object(l["b"])("company",["fetchCompanyDetails"]),{},Object(l["b"])("companySettings",["fetchCompanySettings"]),{},Object(l["b"])("location",["fetchLocationList"]),{},Object(l["b"])("companyService",["fetchCompanyServiceList"]),{},Object(l["b"])("executor",["fetchExecutorList"]),{},Object(l["d"])("scheduleAppointment",["changeExecutorSelectionMode","changeSlotsMode","changeScheduleGrid","selectService","selectLocation","selectExecutor"]),{fetch:function(){var e=a()(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(b["a"])({ssrContext:this.$ssrContext}),e.next=3,this.fetchCompanyDetails({variables:{hostname:t,path:this.path}});case 3:if(s=e.sent,i=s.data.company,!i){e.next=20;break}return this.companyId=i.id,e.next=9,this.fetchCompanySettings({variables:{companyId:this.companyId}});case 9:return this.changeExecutorSelectionMode(this.companySettings),this.changeSlotsMode(this.companySettings),this.changeScheduleGrid(this.companySettings),e.next=14,this.fetchLocationList({variables:{companyId:this.companyId}});case 14:return e.next=16,this.fetchCompanyServiceList({variables:{companyId:this.companyId}});case 16:if(!this.locationList||1!==this.locationList.length){e.next=19;break}return e.next=19,this.locationChanged(this.locationList[0]);case 19:this.serviceList&&1===this.serviceList.length&&this.serviceChanged(this.serviceList[0]);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),locationChanged:function(){var e=a()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchExecutorList({variables:{locationId:t.id}});case 2:this.selectLocation(t),this.selectService(null),this.selectExecutor(null);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),serviceChanged:function(e){this.selectService(e),this.selectExecutor(null)},executorChanged:function(e){this.selectExecutor(e)}})},g=f,C=s("42e1"),w=Object(C["a"])(g,i,c,!1,null,null,null);t["default"]=w.exports}}]);