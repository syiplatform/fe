(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[71],{e480:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"bg-white"},[a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"text-h5"},[t._v("\n        "+t._s(t.$t("payment_list_title"))+"\n      ")]),a("div",{staticClass:"row q-pb-md q-mb-xs justify-between"},[a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-input",{staticClass:"q-mx-md",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",debounce:"500",placeholder:t.$t("payment_list_filter_name")},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})],1),a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-input",{staticClass:"q-mx-md",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",debounce:"500",placeholder:t.$t("payment_list_filter_promocodes")},model:{value:t.searchPromocodeTerm,callback:function(e){t.searchPromocodeTerm=e},expression:"searchPromocodeTerm"}}),a("q-checkbox",{attrs:{"toggle-indeterminate":"",label:t.$t("payment_list_filter_has_promocodes")},model:{value:t.hasPromocode,callback:function(e){t.hasPromocode=e},expression:"hasPromocode"}})],1),a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-select",{staticClass:"q-mx-md",attrs:{filter:"",clearable:"","emit-value":"","map-options":"",color:"primary",label:t.$t("payment_list_filter_tariff"),multiple:"",options:t.allTariffs},model:{value:t.selectedTariffs,callback:function(e){t.selectedTariffs=e},expression:"selectedTariffs"}})],1),a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-select",{staticClass:"q-mx-md",attrs:{filter:"",clearable:"","emit-value":"","map-options":"",multiple:"",color:"primary",label:t.$t("payment_list_filter_status"),options:t.statusOptions},model:{value:t.selectedStatuses,callback:function(e){t.selectedStatuses=e},expression:"selectedStatuses"}})],1),a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-input",{staticClass:"q-mx-md",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("payment_list_filter_payDaysMin"),type:"number",debounce:"500"},model:{value:t.payDaysMin,callback:function(e){t.payDaysMin=t._n(e)},expression:"payDaysMin"}}),a("q-input",{staticClass:"q-mx-md",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("payment_list_filter_payDaysMax"),type:"number",debounce:"500"},model:{value:t.payDaysMax,callback:function(e){t.payDaysMax=t._n(e)},expression:"payDaysMax"}})],1),a("div",{staticClass:"col-xs-12 col-md-6"},[a("q-input",{staticClass:"q-mx-md",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("payment_list_filter_amountMin"),type:"number",debounce:"500"},model:{value:t.amountMin,callback:function(e){t.amountMin=t._n(e)},expression:"amountMin"}}),a("q-input",{staticClass:"q-mx-md",attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("payment_list_filter_amountMax"),type:"number",debounce:"500"},model:{value:t.amountMax,callback:function(e){t.amountMax=t._n(e)},expression:"amountMax"}})],1)])]),a("q-table",{attrs:{"row-key":"id",data:t.paymentList.items,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body-cell-companyName",fn:function(e){return a("q-td",{attrs:{props:e}},[a("router-link",{attrs:{to:{name:"individual-details",params:{companyId:e.row.company.id}}}},[t._v("\n            "+t._s(e.row.company.name)+"\n          ")])],1)}},{key:"body-cell-companyUrlPath",fn:function(e){return a("q-td",{staticStyle:{"max-width":"150px"},attrs:{props:e}},[e.row.company.hostnameType===t.hostnameTypes.path?[a("a",{attrs:{href:e.row.company.urlPath,target:"_blank"}},[t._v("\n              "+t._s(e.row.company.urlPath)+"\n            ")])]:t._e(),e.row.company.hostnameType===t.hostnameTypes.subdomain?[a("a",{attrs:{href:e.row.company.finalPath,target:"_blank"}},[t._v("\n              "+t._s(e.row.company.finalPath)+"\n            ")])]:t._e(),e.row.company.hostnameType===t.hostnameTypes.clientDomain?[a("a",{attrs:{href:e.row.company.finalPath,target:"_blank"}},[t._v("\n              "+t._s(e.row.company.finalPath)+"\n            ")])]:t._e()],2)}}])})],1)])},r=[],i=(a("8e6e"),a("8a81"),a("456d"),a("96cf"),a("c973")),s=a.n(i),o=a("9523"),c=a.n(o),l=(a("ac6a"),a("cadf"),a("06db"),a("8615"),a("c1df")),u=a.n(l),p=a("2f62"),m=a("c98f"),d=a("a6c8");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){c()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={name:"paymentList",data:function(){var t=this;return{hostnameTypes:d["a"],loading:!1,pagination:{sortBy:"createdAt",descending:!0,page:1,rowsPerPage:25,rowsNumber:0},columns:[{name:"id",label:this.$t("field_id"),field:"id",align:"left",sortable:!0},{name:"companyName",label:this.$t("field_company_name"),field:"company",align:"left",sortable:!1},{name:"companyUrlPath",label:this.$t("field_company_path"),field:"company",align:"left",sortable:!1},{name:"tariff",label:this.$t("tariff"),field:"tariff",align:"left",sortable:!0,format:function(e){return t.$t(e)}},{name:"payDays",label:this.$t("field_payDays"),field:"payDays",align:"left",sortable:!0},{name:"amount",label:this.$t("field_amount"),field:"amount",align:"left",sortable:!0},{name:"promocode",label:this.$t("field_promocode"),field:"promocode",align:"left",sortable:!0},{name:"paymentStatus",label:this.$t("field_status"),field:"paymentStatus",align:"left",sortable:!0},{name:"createdAt",label:this.$t("field_created_at"),field:"createdAt",align:"left",sortable:!0,format:function(t){return u()(t).tz("Europe/Saratov").format("DD/MM/YYYY HH:mm:ss")}}],allTariffs:Object.values(m["h"]).map((function(e){return{label:t.$t(e),value:e}})),selectedTariffs:[],searchTerm:"",searchPromocodeTerm:"",selectedStatuses:["succeeded"],statusOptions:[{label:this.$t("company_payment_status_succeeded"),value:"succeeded"},{label:this.$t("company_payment_status_pending"),value:"pending"},{label:this.$t("company_payment_status_canceled"),value:"canceled"}],payDaysMin:0,payDaysMax:365,amountMin:0,amountMax:1e4,hasPromocode:null}},computed:h({},Object(p["c"])("company",["paymentList"])),watch:{selectedTariffs:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),searchTerm:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),searchPromocodeTerm:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),hasPromocode:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectedStatuses:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),payDaysMin:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),payDaysMax:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),amountMin:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),amountMax:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(this.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:h({},Object(p["b"])("company",["fetchPaymentList"]),{fetchGridData:function(){var t=s()(regeneratorRuntime.mark((function t(e){var a,n,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,n=e.rowsPerPage,r=e.sortBy,i=e.descending,this.loading=!0,s={searchTerm:this.searchTerm,searchPromocodeTerm:this.searchPromocodeTerm,hasPromocode:this.hasPromocode,tariffs:this.selectedTariffs,paymentStatuses:this.selectedStatuses,payDaysMin:this.payDaysMin||0,payDaysMax:this.payDaysMax||0,amountMin:this.amountMin||0,amountMax:this.amountMax||0,pageNumber:a,pageSize:n,orderBy:r,order:i?"DESC":"ASC"},t.next=5,this.fetchPaymentList({variables:s});case 5:this.pagination.rowsNumber=this.paymentList.count,this.pagination.page=a,this.pagination.rowsPerPage=n,this.pagination.sortBy=r,this.pagination.descending=i,this.loading=!1;case 11:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onRequest:function(){var t=s()(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGridData(e.pagination);case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()})},g=y,b=a("42e1"),x=Object(b["a"])(g,n,r,!1,null,null,null);e["default"]=x.exports}}]);