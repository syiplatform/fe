(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[100],{b565:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row relative-position"},[n("div",{staticClass:"row col-xs-12 q-pa-md q-pa-xl justify-center"},[n("div",{staticClass:"col-xs-12 q-pb-md text-center",class:{"text-grey-8":t.pending,"text-red":t.canceled,"text-green":t.paid}},[t._v("\n      "+t._s(t.message)+"\n    ")]),n("q-no-ssr",[t.pending&&t.needMoreAttempts?n("q-spinner-hourglass",{attrs:{color:"grey-8",size:"50px"}}):t._e()],1),n("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn"}},[t.paid?n("q-icon",{attrs:{color:"green",size:"50px",name:"done"}}):t._e()],1),n("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn"}},[t.canceled?n("q-icon",{attrs:{color:"red",size:"50px",name:"clear"}}):t._e()],1),!t.pending||t.isUnresolvedStatus?n("div",{staticClass:"q-mt-md col-xs-12 row justify-center items-start"},[n("div",{staticClass:"col-xs-12 row items-start justify-center"},[n("q-btn",{attrs:{label:t.$t("action_open_paid_tariff_package")},on:{click:function(e){return t.goToClubPage()}}})],1)]):t._e()],1)])},s=[],r=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("96cf"),n("c973")),i=n.n(r),c=n("9523"),o=n.n(c),u=(n("c5f6"),n("2f62")),p=n("2daf");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"TariffPackagePaymentStatus",props:{paymentUid:{type:[String,Number],required:!0}},data:function(){return{timerId:0,attempts:0,maxAttempts:10}},meta:function(){return{meta:{robots:{name:"robots",content:"noindex"}}}},computed:l({},Object(u["c"])("auth",["isAuthenticated"]),{},Object(u["c"])("clubMembership",["clubMemberPackagePaymentStatusDetails"]),{needMoreAttempts:function(){return this.attempts<this.maxAttempts},paymentStatus:function(){return this.clubMemberPackagePaymentStatusDetails&&this.clubMemberPackagePaymentStatusDetails.status},message:function(){return this.needMoreAttempts?this.paid?this.$t("payment_status_message_paid"):this.canceled?this.$t("payment_status_message_declined"):this.$t("payment_status_message_pending"):this.$t("shared_payment_status_message_unknown")},pending:function(){return!this.paid&&!this.canceled&&!this.unknown},paid:function(){return this.paymentStatus===p["f"].succeeded},canceled:function(){return this.paymentStatus===p["f"].canceled},unknown:function(){return this.paymentStatus===p["f"].unknown},isUnresolvedStatus:function(){return!this.needMoreAttempts&&this.pending||this.unknown}}),mounted:function(){var t=this,e=setInterval((function(){t.attempts+=1,t.pending&&t.needMoreAttempts?t.fetch():clearInterval(e)}),500)},methods:l({},Object(u["b"])("clubMembership",["fetchClubMemberPackagePaymentStatusDetails"]),{},Object(u["b"])("auth",["fetchCurrentUser"]),{fetch:function(){var t=i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchClubMemberPackagePaymentStatusDetails({variables:{paymentKey:this.paymentUid}});case 2:return t.next=4,this.fetchCurrentUser({variables:{}});case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToClubPage:function(){this.$router.push({name:"public-club-membership"})}})},f=d,b=n("42e1"),h=Object(b["a"])(f,a,s,!1,null,"435af1cc",null);e["default"]=h.exports}}]);