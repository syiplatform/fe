(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[95],{f103:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{attrs:{padding:""}},[n("q-card",{staticClass:"border-radius q-mb-md bg-white"},[n("div",{staticClass:"row q-pa-md"},[n("q-input",{staticClass:"col q-mr-lg",attrs:{debounce:300,placeholder:t.$t("contest_list_search_placeholder"),color:"primary",icon:"search"},model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}})],1),n("div",{staticClass:"row q-pa-md"},[t.isAuthenticated?n("q-btn-toggle",{staticClass:"q-mr-md",attrs:{"toggle-color":"primary",options:[{label:t.$t("contest_list_search_show_all"),value:!1},{label:t.$t("contest_list_search_is_participant"),value:!0}]},model:{value:t.onlyParticipated,callback:function(e){t.onlyParticipated=e},expression:"onlyParticipated"}}):t._e(),n("q-checkbox",{attrs:{"toggle-indeterminate":"",label:t.$t("contest_status_pending")},model:{value:t.isPending,callback:function(e){t.isPending=e},expression:"isPending"}}),n("q-checkbox",{attrs:{"toggle-indeterminate":"",label:t.$t("contest_status_started")},model:{value:t.isStarted,callback:function(e){t.isStarted=e},expression:"isStarted"}}),n("q-checkbox",{attrs:{"toggle-indeterminate":"",label:t.$t("contest_status_completed")},model:{value:t.isCompleted,callback:function(e){t.isCompleted=e},expression:"isCompleted"}})],1)]),n("div",{class:t.$q.screen.lt.sm?"q-py-sm":""},[n("image-tiles",{ref:"imageTiles",attrs:{namespace:"contest",pagedListName:"contestPublic",hasInfo:!0,hasMain:!1,needEntityMenu:!1,fetch:t.fetch},scopedSlots:t._u([{key:"title",fn:function(e){var s=e.entity;return[n("router-link",{staticClass:"no-underline text-secondary text-h6",attrs:{to:{name:"public-contest",params:{contestId:s.id}}}},[t._v("\n            "+t._s(s.name)+"\n          ")])]}},{key:"info",fn:function(e){var s=e.entity;return[n("div",{staticClass:"row"},[n("div",[n("div",{staticClass:"ellipsis-3-lines text-body1",domProps:{innerHTML:t._s(s.description)}}),n("div",{staticClass:"row col-xs-12 justify-end q-py-sm"},[t._v("\n                "+t._s(t._f("dateText")(s.startDate))+" - "+t._s(t._f("dateText")(s.endDate))+"\n              ")])])])]}}])})],1)],1)},i=[],a=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("96cf"),n("c973")),r=n.n(a),c=n("9523"),o=n.n(c),l=n("11ec"),u=n("2f62"),d=n("ee47"),p=n("241b"),h=n("1cb6"),g=n("aacf"),m=n("6281");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"PublicContests",mixins:[d["a"]],components:{ImageTiles:p["a"]},data:function(){return{searchTerm:"",onlyParticipated:!1,isCompleted:!0,isPending:!0,isStarted:!0,urls:g["a"]}},meta:function(){return{title:this.$t("company_contests_list_page_title")}},computed:b({},Object(u["c"])("contest",{pagination:"contestPublicPagedListPagination"}),{},Object(u["c"])("auth",["currentUserId","isAuthenticated"])),mounted:function(){var t=r()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.trackUserAction({actionName:"openContestsPage"});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){this.resetPagination()},watch:{searchTerm:function(){this.searchChanged(),h["a"].logEvent("public-contest-page","contest-filter-search-term",this.searchTerm,0,this.$router.currentRoute)},onlyParticipated:function(){this.searchChanged(),h["a"].logEvent("public-contest-page","contest-filter-is-participant",this.searchTerm,0,this.$router.currentRoute)},isStarted:function(){this.searchChanged(),h["a"].logEvent("public-contest-page","contest-filter-is-started",this.searchTerm,0,this.$router.currentRoute)},isCompleted:function(){this.searchChanged(),h["a"].logEvent("public-contest-page","contest-filter-is-completed",this.searchTerm,0,this.$router.currentRoute)},isPending:function(){this.searchChanged(),h["a"].logEvent("public-contest-page","contest-filter-is-pending",this.searchTerm,0,this.$router.currentRoute)}},methods:b({},Object(u["b"])("auth",["trackUserAction"]),{},Object(u["b"])("contest",["fetchContestPublicPagedList"]),{},Object(u["d"])("contest",{paginationUpdate:"contestPublicPagedListPaginationUpdate"}),{searchChanged:function(){this.resetPagination();var t=!1;this.fetch(t)},resetPagination:function(){var t=Object(l["a"])(!0,{},this.pagination);t.pageNumber=1,this.paginationUpdate(t)},fetch:function(){var t=r()(regeneratorRuntime.mark((function t(){var e,n,s,i,a,r,c,o,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=l.length>0&&void 0!==l[0]&&l[0],e||this.$refs.imageTiles&&this.$refs.imageTiles.reset(),n=[],!0!==this.isPending&&null!==this.isPending||n.push(m["a"].pending),!0!==this.isStarted&&null!==this.isStarted||n.push(m["a"].started),!0!==this.isCompleted&&null!==this.isCompleted||n.push(m["a"].completed),s=null,!0===this.onlyParticipated&&(s=this.currentUserId),i=this.pagination,a=i.pageNumber,r=i.pageSize,c=i.sortBy,o=i.descending,t.next=11,this.fetchContestPublicPagedList({variables:{searchTerm:this.searchTerm,participantUserId:s,statuses:n,pageNumber:a,pageSize:r,sortBy:c,descending:o},needAppendItems:e});case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()})},P=v,y=n("42e1"),_=Object(y["a"])(P,s,i,!1,null,null,null);e["default"]=_.exports}}]);