(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[98],{"0523":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row relative-position"},[n("div",{staticClass:"row col-xs-12 q-pa-md q-pa-xl justify-center"},[n("div",{staticClass:"col-xs-12 q-pb-md text-center",class:{"text-grey-8":t.pending,"text-red":t.canceled,"text-green":t.paid}},[t._v("\n      "+t._s(t.message)+"\n    ")]),n("q-no-ssr",[t.pending&&t.needMoreAttempts?n("q-spinner-hourglass",{attrs:{color:"grey-8",size:"50px"}}):t._e()],1),n("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn"}},[t.paid?n("q-icon",{attrs:{color:"green",size:"50px",name:"done"}}):t._e()],1),n("transition",{attrs:{appear:"","enter-active-class":"animated zoomIn"}},[t.canceled?n("q-icon",{attrs:{color:"red",size:"50px",name:"clear"}}):t._e()],1),t.paid?n("div",{staticClass:"q-mt-md col-xs-12 row justify-center items-start"},[n("div",{staticClass:"col-xs-12 row items-start justify-center"},[n("q-btn",{attrs:{label:t.$t("action_open_paid_course")},on:{click:function(e){return t.goToCoursePage()}}})],1)]):t._e()],1)])},r=[],a=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("96cf"),n("c973")),i=n.n(a),c=n("9523"),o=n.n(c),u=(n("c5f6"),n("2f62")),p=n("2daf");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"CoursePaymentStatus",props:{paymentUid:{type:[String,Number],required:!0}},data:function(){return{timerId:0,attempts:0,maxAttempts:10}},meta:function(){return{meta:{robots:{name:"robots",content:"noindex"}}}},computed:m({},Object(u["c"])("auth",["isAuthenticated"]),{},Object(u["c"])("course",["coursePaymentStatusDetails"]),{needMoreAttempts:function(){return this.attempts<this.maxAttempts},coursePaymentStatus:function(){return this.coursePaymentStatusDetails&&this.coursePaymentStatusDetails.status},message:function(){return this.needMoreAttempts?this.paid?this.$t("payment_status_message_paid"):this.canceled?this.$t("payment_status_message_declined"):this.$t("payment_status_message_pending"):this.$t("shared_payment_status_message_unknown")},pending:function(){return!this.paid&&!this.canceled&&!this.unknown},paid:function(){return this.coursePaymentStatus===p["f"].succeeded},canceled:function(){return this.coursePaymentStatus===p["f"].canceled},unknown:function(){return this.coursePaymentStatus===p["f"].unknown},isUnresolvedStatus:function(){return!this.needMoreAttempts&&this.pending||this.unknown}}),mounted:function(){var t=this,e=setInterval((function(){t.attempts+=1,t.pending&&t.needMoreAttempts?t.fetch():clearInterval(e)}),500)},methods:m({},Object(u["b"])("course",["fetchCoursePaymentStatusDetails"]),{fetch:function(){var t=i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchCoursePaymentStatusDetails({variables:{paymentKey:this.paymentUid}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToCoursePage:function(){this.$router.push({name:"client-university"})}})},f=l,h=n("42e1"),y=Object(h["a"])(f,s,r,!1,null,"02333e04",null);e["default"]=y.exports}}]);