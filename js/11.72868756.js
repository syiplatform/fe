(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"2d13":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",{attrs:{padding:""}},[r("div",{staticClass:"border-radius q-pa-lg"},[r("div",{staticClass:"q-my-sm"},[r("div",{staticClass:"text-h5"},[e._v("\n          "+e._s(e.$t("client_profile_details_title"))+"\n        ")]),r("div",{staticClass:"q-my-md"},[r("q-field",{attrs:{borderless:"",label:e.$q.screen.lt.sm?e.$t("field_username"):void 0,"stack-label":e.$q.screen.lt.sm},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{width:"200px"}},[e._v("\n                "+e._s(e.$t("field_username"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[e.formModel.externalLogins&&e.formModel.externalLogins.length?r("div",e._l(e.formModel.externalLogins,(function(t){return r("div",{key:t},[e._v("\n              "+e._s(e.$t("login_with"))+" "+e._s(e.snsServiceTypeFormat(t)||"email")+"\n              ")])})),0):r("div",{staticClass:"text-dark text-body1"},[e._v("\n              "+e._s(e.formModel.username)+"\n            ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:"",label:e.$q.screen.lt.sm?e.$t("field_timezone"):void 0,"stack-label":e.$q.screen.lt.sm},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{width:"200px"}},[e._v("\n              "+e._s(e.$t("field_timezone"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1"},[e._v(e._s(e.formattedTimezone))])]},proxy:!0}])}),r("q-field",{attrs:{borderless:"",label:e.$q.screen.lt.sm?e.$t("field_email"):void 0,"stack-label":e.$q.screen.lt.sm},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{width:"200px"}},[e._v("\n              "+e._s(e.$t("field_email"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 word-break"},[e._v(e._s(e.formModel.email))])]},proxy:!0}])}),r("q-banner",{directives:[{name:"show",rawName:"v-show",value:!e.formModel.isEmailConfirmed,expression:"!formModel.isEmailConfirmed"}],staticClass:"bg-secondary text-white col-xs-12 text-caption border-radius",class:e.$q.screen.lt.lg?"q-my-md":"",attrs:{appear:""},scopedSlots:e._u([{key:"avatar",fn:function(){return[r("q-icon",{attrs:{name:"info",color:"white"}})]},proxy:!0}])},[r("div",{staticClass:"row items-center"},[r("div",{staticClass:"col-xs-12 col-lg text-center"},[e._v("\n              "+e._s(e.$t("client_profile_notconfirmed_email_warning_text"))+"\n            ")]),r("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.isSentConfirmationEmail&&!e.isSentConfirmationEmailError,expression:"!isSentConfirmationEmail && !isSentConfirmationEmailError"}],staticClass:"col-xs-12 col-lg-auto",class:e.$q.screen.lt.lg?"q-mt-sm":"",attrs:{rounded:"",size:"md",outline:"",label:e.$t("client_profile_email_confirm_action")},on:{click:e.clickOnConfirmationEmail}})],1)]),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{class:e.$q.screen.lt.sm?"text-caption q-px-sm":"text-subtitle1",style:e.$q.screen.lt.sm?"width: 190px;":"width: 400px;"},[e._v("\n              "+e._s(e.$t("field_emailNotificationTariffChanges"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[e._v("\n              "+e._s(e.localizeBoolean(e.formModel.emailNotificationTariffChanges))+"\n            ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{class:e.$q.screen.lt.sm?"text-caption q-px-sm":"text-subtitle1",style:e.$q.screen.lt.sm?"width: 190px;":"width: 400px;"},[e._v("\n              "+e._s(e.$t("field_emailNotificationClientRequests"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[e._v("\n              "+e._s(e.localizeBoolean(e.formModel.emailNotificationClientRequests))+"\n            ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{class:e.$q.screen.lt.sm?"text-caption q-px-sm":"text-subtitle1",style:e.$q.screen.lt.sm?"width: 190px;":"width: 400px;"},[e._v("\n              "+e._s(e.$t("field_emailNotificationProductPurchase"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[e._v("\n              "+e._s(e.localizeBoolean(e.formModel.emailNotificationProductPurchase))+"\n            ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{class:e.$q.screen.lt.sm?"text-caption q-px-sm":"text-subtitle1",style:e.$q.screen.lt.sm?"width: 190px;":"width: 400px;"},[e._v("\n              "+e._s(e.$t("field_emailNotificationLanding"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[e._v("\n              "+e._s(e.localizeBoolean(e.formModel.emailNotificationLanding))+"\n            ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{class:e.$q.screen.lt.sm?"text-caption q-px-sm":"text-subtitle1",style:e.$q.screen.lt.sm?"width: 190px;":"width: 400px;"},[e._v("\n              "+e._s(e.$t("field_emailNotificationContest"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[e._v("\n              "+e._s(e.localizeBoolean(e.formModel.emailNotificationContest))+"\n            ")])]},proxy:!0}])}),r("q-field",{attrs:{borderless:""},scopedSlots:e._u([{key:"before",fn:function(){return[r("div",{class:e.$q.screen.lt.sm?"text-caption q-px-sm":"text-subtitle1",style:e.$q.screen.lt.sm?"width: 190px;":"width: 400px;"},[e._v("\n              "+e._s(e.$t("field_emailNotificationNews"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[e._v("\n              "+e._s(e.localizeBoolean(e.formModel.emailNotificationNews))+"\n            ")])]},proxy:!0}])})],1),e.currentUserIsSuperAdmin&&e.userId?r("div",[r("div",[r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("navigation_user_bonus"),color:"primary",to:{name:"user-bonus",params:{userId:e.formModel.id}}}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("navigation_user_feedback"),color:"primary",to:{name:"user-feedback",params:{userId:e.formModel.id}}}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("navigation_login_methods"),to:{name:"user-login-methods",params:{userId:e.formModel.id}},color:"accent"}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("navigation_club_membership"),to:{name:"user-club-membership",params:{userId:e.formModel.id}},color:"secondary"}})],1),r("div",{staticClass:"q-mt-sm"},[r("div",[e._v(e._s(e.$t("client_project_projects"))+":")]),e._l(e.projectItems,(function(t){return r("div",{key:t},[r("router-link",{attrs:{to:{name:"individual-details",params:{companyId:t.id}}}},[e._v("\n            "+e._s(t.name)+"\n          ")])],1)}))],2),r("div",{staticClass:"q-mt-sm"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("action_open_mautic_contact"),color:"primary"},on:{click:e.openContactProfile}})],1)]):r("div",{staticClass:"row q-mt-lg"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("action_edit"),color:"primary",icon:"edit"},on:{click:e.showClientProfileForm}}),e.formModel.externalLogin?e._e():r("q-btn",{staticClass:"col-xs-12 col-sm-auto q-mr-sm q-mt-xs",attrs:{rounded:"",label:e.$t("client_profile_btn_change_password"),color:"accent"},on:{click:e.showPasswordForm}})],1)])]),r("user-profile-form"),r("user-change-password")],1)},i=[],o=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("96cf"),r("c973")),n=r.n(o),a=r("9523"),l=r.n(a),c=(r("c5f6"),r("b06b")),m=r("5944"),d=r("2f62"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isClientProfileFormVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"bg-white q-px-lg q-py-md"},[r("div",[r("div",{staticClass:"text-h5"},[e._v("\n            "+e._s(e.$t("client_profile_edit_title"))+"\n          ")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-select",{attrs:{label:e.$t("field_timezone"),"emit-value":"","map-options":"","bottom-slots":"","use-input":"","use-chips":"",options:e.filteredTimezoneOptions,"error-message":e.getErrorMessage(e.$v.formModel.timezone,e.t)},on:{filter:e.filterTimezones},model:{value:e.formModel.timezone,callback:function(t){e.$set(e.formModel,"timezone","string"===typeof t?t.trim():t)},expression:"formModel.timezone"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.formModel.timezone,expression:"!formModel.timezone"}],staticClass:"timezone-suggestion q-ma-sm"},[e._v("\n                "+e._s(e.$t("timezone_suggestion"))+"\n                "),r("span",{staticClass:"timezone-name"},[e._v(e._s(e.suggestedTimezoneText))]),e._v("\n                "+e._s("?")+"\n                "),r("q-btn",{attrs:{rounded:""},on:{click:e.setupSuggestedTimezone}},[e._v("\n                  "+e._s(e.$t("timezone_suggestion_set_up"))+"\n                ")])],1)],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-input",{attrs:{label:e.$t("field_email"),rounded:"",standout:"bg-grey-2 text-grey-14",type:"email","bottom-slots":"",error:e.$v.formModel.email.$error,"error-message":e.getErrorMessage(e.$v.formModel.email,e.t)},model:{value:e.formModel.email,callback:function(t){e.$set(e.formModel,"email","string"===typeof t?t.trim():t)},expression:"formModel.email"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-checkbox",{attrs:{color:"primary",label:e.$t("field_emailNotificationTariffChanges")},model:{value:e.formModel.emailNotificationTariffChanges,callback:function(t){e.$set(e.formModel,"emailNotificationTariffChanges",t)},expression:"formModel.emailNotificationTariffChanges"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-checkbox",{attrs:{color:"primary",label:e.$t("field_emailNotificationClientRequests")},model:{value:e.formModel.emailNotificationClientRequests,callback:function(t){e.$set(e.formModel,"emailNotificationClientRequests",t)},expression:"formModel.emailNotificationClientRequests"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-checkbox",{attrs:{color:"primary",label:e.$t("field_emailNotificationProductPurchase")},model:{value:e.formModel.emailNotificationProductPurchase,callback:function(t){e.$set(e.formModel,"emailNotificationProductPurchase",t)},expression:"formModel.emailNotificationProductPurchase"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-checkbox",{attrs:{color:"primary",label:e.$t("field_emailNotificationLanding")},model:{value:e.formModel.emailNotificationLanding,callback:function(t){e.$set(e.formModel,"emailNotificationLanding",t)},expression:"formModel.emailNotificationLanding"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-checkbox",{attrs:{color:"primary",label:e.$t("field_emailNotificationContest")},model:{value:e.formModel.emailNotificationContest,callback:function(t){e.$set(e.formModel,"emailNotificationContest",t)},expression:"formModel.emailNotificationContest"}})],1),r("div",{staticClass:"col-xs-12 q-px-xs"},[r("q-checkbox",{attrs:{color:"primary",label:e.$t("field_emailNotificationNews")},model:{value:e.formModel.emailNotificationNews,callback:function(t){e.$set(e.formModel,"emailNotificationNews",t)},expression:"formModel.emailNotificationNews"}})],1)])])])],1),r("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_save"),color:"primary",icon:"save"},on:{click:e.saveChanges}})],1)],1)],1)},u=[],p=r("c81d"),b=r("b5ae"),h=r("3555"),x=r("c684"),v=r("d47e"),g=r("d59f"),_=r("3f2c"),y=r("3b8a");function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $={name:"ClientUserProfile",mixins:[m["a"],p["a"]],components:{PhoneInput:_["a"],SocialInput:y["a"]},data:function(){return{t:this.$t.bind(this),formModelKey:"userProfile",sexOptions:x["b"],connectionWays:h["a"],socials:h["f"]}},computed:q({},Object(d["c"])("auth",["userProfile","isClientProfileFormVisible","updatePasswordError","updateClientProfileError"])),methods:q({},Object(d["d"])("auth",["selectClientProfileTimezone","hideClientProfileForm"]),{getErrorMessage:g["a"],setupSuggestedTimezone:function(){this.selectClientProfileTimezone(this.suggestedTimezone)},saveChanges:function(){var e=n()(regeneratorRuntime.mark((function e(){var t,r,s,i,o,n,a,l,c,m,d,f,u,p,b,h,x,g,_,y,w;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateFormAndNotify()){e.next=2;break}return e.abrupt("return");case 2:return t=this.formModel,r=t.email,s=t.firstName,i=t.lastName,o=t.phone,n=t.birthday,a=t.sex,l=t.vk,c=t.facebook,m=t.instagram,d=t.telegram,f=t.whatsapp,u=t.viber,p=t.timezone,b=t.emailNotificationNews,h=t.emailNotificationContest,x=t.emailNotificationLanding,g=t.emailNotificationAppointment,_=t.emailNotificationTariffChanges,y=t.emailNotificationClientRequests,w=t.emailNotificationProductPurchase,e.prev=3,e.next=6,this.updateClientProfile({variables:{input:{email:r,firstName:s,lastName:i,phone:o,birthday:Object(v["C"])(n),sex:a,vk:l,facebook:c,instagram:m,telegram:d,whatsapp:f,viber:u,timezone:p,emailNotificationNews:b,emailNotificationContest:h,emailNotificationLanding:x,emailNotificationAppointment:g,emailNotificationTariffChanges:_,emailNotificationClientRequests:y,emailNotificationProductPurchase:w}}});case 6:this.updateClientProfileError?this.$q.notify({type:"negative",message:this.updateClientProfileError}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("client_profile_success_created")})),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),this.$q.notify({type:"negative",message:this.$t("client_profile_errors_can_not_save")});case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$v.$reset(),this.hideClientProfileForm()}},Object(d["b"])("auth",["updateClientProfile"])),validations:{formModel:{email:{required:b["required"],maxLength:Object(b["maxLength"])(255)},timezone:{required:b["required"]}}}},C=$,P=(r("ef63"),r("42e1")),k=Object(P["a"])(C,f,u,!1,null,null,null),N=k.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-dialog",{attrs:{value:e.isPasswordFormVisible,maximized:e.$q.screen.lt.sm},on:{"before-hide":e.cancel}},[r("q-layout",{staticClass:"bg-white",attrs:{view:"hhh lpr fFf",container:""}},[r("q-page-container",[r("q-page",{staticClass:"bg-white q-pa-lg"},[r("div",{staticClass:"q-my-sm"},[r("div",{staticClass:"text-h5"},[e._v("\n            "+e._s(e.$t("client_change_password_title"))+"\n          ")]),r("div",[r("div",[r("q-input",{attrs:{label:e.$t("field_current_password")+"*",rounded:"",standout:"bg-grey-2 text-grey-14",type:"password",maxlength:"255","bottom-slots":"",error:e.$v.currentPassword.$error,"error-message":e.getErrorMessage(e.$v.currentPassword,e.t)},model:{value:e.currentPassword,callback:function(t){e.currentPassword="string"===typeof t?t.trim():t},expression:"currentPassword"}})],1),r("div",[r("q-input",{attrs:{label:e.$t("field_new_password")+"*",rounded:"",standout:"bg-grey-2 text-grey-14",type:"password",maxlength:"255","bottom-slots":"",error:e.$v.newPassword.$error,"error-message":e.getErrorMessage(e.$v.newPassword,e.t)},model:{value:e.newPassword,callback:function(t){e.newPassword="string"===typeof t?t.trim():t},expression:"newPassword"}})],1),r("div",[r("q-input",{attrs:{label:e.$t("client_change_password_confirm_new_password")+"*",type:"password",rounded:"",standout:"bg-grey-2 text-grey-14",maxlength:"255","bottom-slots":"",error:e.$v.confirmNewPassword.$error,"error-message":e.getErrorMessage(e.$v.confirmNewPassword,e.t)},model:{value:e.confirmNewPassword,callback:function(t){e.confirmNewPassword="string"===typeof t?t.trim():t},expression:"confirmNewPassword"}})],1)])])])],1),r("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:e.cancel}}),r("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:e.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:e.$t("action_save"),color:"primary",icon:"save"},on:{click:e.saveChanges}})],1)],1)],1)},j=[];function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z={name:"ClientUserChangePassword",data:function(){return{t:this.$t.bind(this),currentPassword:null,newPassword:null,confirmNewPassword:null}},computed:E({},Object(d["c"])("auth",["updatePasswordError","isPasswordFormVisible"])),methods:E({getErrorMessage:g["a"],validateFormAndNotify:function(){return this.$v.$touch(),!this.$v.$error||(this.$q.notify({type:"negative",message:this.$t("validation_check_fields_error")}),!1)},saveChanges:function(){var e=n()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateFormAndNotify()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.updatePassword({variables:{input:{currentPassword:this.currentPassword,newPassword:this.newPassword}}});case 5:this.updatePasswordError?this.$q.notify({type:"negative",message:this.updatePasswordError}):(this.cancel(),this.$q.notify({type:"positive",message:this.$t("client_change_password_success_created")})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),this.$q.notify({type:"negative",message:this.$t("client_profile_errors_can_not_save")});case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$v.$reset(),this.hidePasswordForm()}},Object(d["b"])("auth",["updatePassword"]),{},Object(d["d"])("auth",["hidePasswordForm"])),validations:{currentPassword:{required:b["required"],minLength:Object(b["minLength"])(6),maxLength:Object(b["maxLength"])(255)},newPassword:{required:b["required"],minLength:Object(b["minLength"])(6),maxLength:Object(b["maxLength"])(255)},confirmNewPassword:{required:b["required"],sameAs:Object(b["sameAs"])("newPassword")}}},S=z,L=Object(P["a"])(S,O,j,!1,null,null,null),I=L.exports,T=r("16b5"),F=r("76ab");function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={name:"ClientUserProfile",mixins:[m["a"]],props:{userId:{type:[Number,String]}},components:{userProfileForm:N,userChangePassword:I},meta:function(){return{title:this.$t("company_my_profile_page_title")}},data:function(){return{formModelKey:this.userId?"companyUser":"userProfile"}},computed:U({},Object(d["e"])("auth",["isSentConfirmationEmail","isSentConfirmationEmailError"]),{},Object(d["c"])("auth",["currentUserId","userProfile","companyUser","currentUserIsSuperAdmin"]),{formattedTimezone:function(){return Object(T["a"])(this.formModel.timezone,this.$t.bind(this),this.$i18n.locale)}},Object(d["c"])("feedback",{projectItems:"userCompaniesPagedListItems"})),methods:U({},Object(d["d"])("auth",["showClientProfileForm","showPasswordForm"]),{},Object(d["b"])("auth",["fetchClientProfile","confirmEmailRequest","fetchUserLoginMethods","fetchUser","trackUserAction"]),{},Object(d["b"])("feedback",["fetchUserCompaniesPagedList"]),{snsServiceTypeFormat:F["a"],localizeBoolean:function(e){return e?this.$t("Yes"):this.$t("No")},clickOnConfirmationEmail:function(){var e=n()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.confirmEmailRequest({variables:{}});case 2:this.isSentConfirmationEmail?this.$q.notify({type:"positive",message:this.$t("client_profile_email_confirm_sent")}):this.$q.notify({type:"negative",message:this.$t("client_profile_email_confirm_sent_error")});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadUserProjects:function(){var e=n()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUserCompaniesPagedList({variables:{userId:+this.userId,pageNumber:1,pageSize:100}});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openContactProfile:function(){Object(c["a"])("https://mautic.seeyour.info/s/contacts/view/".concat(+this.companyUser.mauticContactId))}}),mounted:function(){var e=n()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.userId){e.next=7;break}return e.next=3,this.fetchUser({variables:{id:+this.userId}});case 3:return e.next=5,this.loadUserProjects();case 5:e.next=10;break;case 7:return e.next=9,this.fetchClientProfile({variables:{}});case 9:this.trackUserAction({actionName:"openProfilePage"});case 10:return e.next=12,this.fetchUserLoginMethods({variables:{sourceName:"user-profile-details",userId:+this.userId}});case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},A=D,B=(r("d94d"),Object(P["a"])(A,s,i,!1,null,"62c556ca",null));t["default"]=B.exports},d223:function(e,t,r){},d94d:function(e,t,r){"use strict";var s=r("d223"),i=r.n(s);i.a},ef63:function(e,t,r){"use strict";var s=r("f6b4"),i=r.n(s);i.a},f6b4:function(e,t,r){}}]);