(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{"373a":function(t,a,r){},"8d59":function(t,a,r){"use strict";r.r(a);var e=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("q-page",{staticClass:"row items-stretch current-tariff-page",attrs:{padding:""}},[r("q-card",{staticClass:"col-xs-12",class:t.$q.screen.lt.sm?"q-py-md":"q-py-lg"},[r("q-card-section",{staticClass:"no-padding"},[r("div",{staticClass:"row items-stretch"},[r("div",{staticClass:"row q-pt-xl relative-position",class:{"col-xs-3":!t.isCurrentTrial&&!t.isCurrentFree&&t.remainingDays<=30,"col-xs-5":!t.isCurrentTrial&&!t.isCurrentFree&&t.remainingDays>30&&t.remainingDays<360,"col-xs-7":!t.isCurrentTrial&&!t.isCurrentFree&&t.remainingDays>=360,"col-xs-12":!t.isCurrentTrial&&t.isCurrentFree,"col-xs-2":t.isCurrentTrial}},[r("div",{staticClass:"row col-xs-12 text-white q-pa-md justify-center",class:"bg-"+(t.isCurrentTrial?"info":t.color)},[r("div",{staticClass:"col-xs-auto q-py-sm"},[t._v("\n              "+t._s(t.currentTariffText)+"\n            ")])]),t.isCurrentFree?t._e():r("q-badge",{staticClass:"mobile-hide now-badge default-font"},[t._v("\n            "+t._s(t._f("dateText")(t.now))+"\n          ")]),t.isCurrentFree?t._e():r("q-badge",{staticClass:"expiration-badge default-font"},[t._v("\n            "+t._s(t._f("dateText")(t.isCurrentTrial?t.companyDetails.trialExpirationDate:t.companyDetails.tariffExpirationDate))+"\n          ")])],1),t.isCurrentTrial&&t.remainingDays?r("div",{staticClass:"row q-pt-xl relative-position",class:{"col-xs-3":!t.isCurrentFree&&t.remainingDays<=30,"col-xs-5":!t.isCurrentFree&&t.remainingDays>30&&t.remainingDays<360,"col-xs-7":!t.isCurrentFree&&t.remainingDays>=360}},[r("div",{staticClass:"row col-xs-12 text-white q-pa-md justify-center",class:"bg-"+t.color},[r("div",{staticClass:"col-xs-auto q-py-sm"},[t._v("\n              "+t._s(t.currentTariffText)+"\n            ")])]),r("q-badge",{staticClass:"expiration-badge default-font"},[t._v("\n            "+t._s(t._f("dateText")(t.companyDetails.tariffExpirationDate))+"\n          ")])],1):t._e(),t.isCurrentFree?t._e():r("div",{staticClass:"row q-pt-xl relative-position",class:{"col-xs-9":!t.isCurrentTrial&&t.remainingDays<=30,"col-xs-7":!t.isCurrentTrial&&t.remainingDays>30&&t.remainingDays<360||t.isCurrentTrial&&t.remainingDays>0&&t.remainingDays<=30,"col-xs-5":!t.isCurrentTrial&&t.remainingDays>=360||t.isCurrentTrial&&t.remainingDays>30&&t.remainingDays<360,"col-xs-3":t.isCurrentTrial&&t.remainingDays>=360,"col-xs-10":t.isCurrentTrial&&0===t.remainingDays}},[r("div",{staticClass:"row col-xs-12 bg-grey-4 q-pa-md items-center justify-center"},[r("span",[t._v(t._s(t.$t("free")))]),r("div",{staticClass:"q-px-lg"},[r("q-btn",{staticClass:"glossy",attrs:{color:"deep-orange",push:"",to:{name:"tariffs",params:{companyId:t.companyId}}}},[t._v("\n                "+t._s(t.$t("buy_text"))+"\n              ")])],1)])]),r("div",{staticClass:"col-xs-5 q-pt-xl relative-position info-label-line"}),r("div",{staticClass:"col-xs-7 q-pt-xl relative-position",class:{"info-label-line-2":!t.isCurrentFree}}),r("div",{staticClass:"q-px-md col-xs-10 col-sm-5 q-pb-sm"},[r("q-card",{staticClass:"q-pa-md"},[r("span",{staticClass:"text-subtitle1 text-weight-bold"},[t.isCurrentTrial?r("span",[t._v("\n                "+t._s(t.$t("tariff_is_trial_period"))+" -\n              ")]):t._e(),t._v(" "+t._s(t.currentTariffFullText)+"\n            ")]),t.isCurrentFree?r("div",[t._v("\n              "+t._s(t.$t("tariff_try_trial"))+"\n              "),r("div",{staticClass:"q-pt-sm row"},[r("q-btn",{staticClass:"col-xs-12 glossy q-pa-sm",attrs:{color:"deep-orange",push:"",to:{name:"tariffs",params:{companyId:t.companyId}}}},[t._v("\n                  "+t._s(t.$t("action_try"))+"\n                ")])],1)]):r("div",[r("q-field",{staticClass:"col-xs-12 col-sm-6 q-pr-lg",attrs:{borderless:""},scopedSlots:t._u([{key:"before",fn:function(){return[r("div",{staticClass:"text-subtitle1"},[t._v("\n                    "+t._s(t.$t("tariff_remaining_days"))+"\n                  ")])]},proxy:!0},{key:"control",fn:function(){return[r("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n                    "+t._s(t.isCurrentTrial?t.trialRemainingDays:t.remainingDays)+"\n                  ")])]},proxy:!0}],null,!1,1641596485)}),t.companyDetails.isAutoPaymentEnabled&&t.companyDetails.isAutoPaymentValid?r("div",[r("q-icon",{attrs:{name:"lock",color:"green"}}),r("span",{staticClass:"text-caption"},[t._v("\n                  "+t._s(t.$t("current_tariff_autopayment",{date:t.autoDate}))+"\n                ")]),r("q-btn",{staticClass:"text-primary",attrs:{flat:"",size:"xs",to:{name:"autopayment",params:{companyId:t.companyId}}}},[t._v("\n                  "+t._s(t.$t("current_tariff_autopayment_settings"))+"\n                ")])],1):r("div",[r("q-icon",{attrs:{name:"help",color:"primary"}}),r("span",[t._v("\n                  "+t._s(t.$t("current_tariff_after"))+"\n                  "+t._s(t._f("dateTimeText")(t.isCurrentTrial?t.companyDetails.trialExpirationDate:t.companyDetails.tariffExpirationDate))+"\n                  "+t._s(t.$t("current_tariff_transfer_after"))+"\n                  "+t._s(t.isCurrentTrial&&t.remainingDays?t.currentTariffFullText:t.$t("free"))+"\n                ")])],1)],1)])],1),t.isCurrentFree?t._e():r("div",{staticClass:"q-px-md col-xs-12 col-sm-5"},[r("q-card",{staticClass:"q-pa-md text-center"},[t.isCurrentTrial&&!t.remainingDays?r("span",[t._v("\n              "+t._s(t.$t("current_tariff_trial_phrase_1"))+"\n              "+t._s(t.currentTariffText)+"\n              "+t._s(t.$t("current_tariff_trial_phrase_2"))+"\n              "+t._s(t._f("dateText")(t.companyDetails.trialExpirationDate))+".\n              "+t._s(t.$t("current_tariff_trial_phrase_3"))+"\n              "+t._s(t.currentTariffText)+"\n              "+t._s(t.$t("current_tariff_trial_phrase_4"))+"\n            ")]):r("span",[t._v("\n              "+t._s(t.$t("current_tariff_buy_more"))+"\n            ")])])],1)])])],1)],1)},i=[],n=(r("8e6e"),r("8a81"),r("ac6a"),r("cadf"),r("06db"),r("456d"),r("96cf"),r("c973")),s=r.n(n),c=r("9523"),o=r.n(c),l=(r("c5f6"),r("c98f")),f=r("2f62"),u=r("7f45"),p=r.n(u),m=r("f8b0");function y(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.push.apply(r,e)}return r}function d(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?y(Object(r),!0).forEach((function(a){o()(t,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))}))}return t}var _={name:"CompanyCurrentTariffConfig",components:{landingCreationService:m["a"]},props:{companyId:{type:[Number,String],required:!1}},meta:function(){return{title:this.pageTitle}},data:function(){return{tariffs:l["h"],now:p()()}},computed:d({},Object(f["c"])("company",["activateTrialPeriodData","activateTrialPeriodError","companyDetails","companyChangeTariffCalculationsDetails","companyChangeTariffDetails","companyChangeTariffError","tariffPreviewDetails"]),{pageTitle:function(){var t="";return this.companyDetails&&this.companyDetails.urlPath&&(t=this.companyDetails.urlPath),this.$t("company_my_tariff_page_title",{project:t})},color:function(){switch(this.currentTariff){case l["h"].Free1:return"secondary";case l["h"].Medium1:return"secondary";case l["h"].Large1:return"primary";default:return"secondary"}},currentTariff:function(){return this.companyDetails?this.companyDetails.tariff:null},isCurrentTrial:function(){if(this.companyDetails){var t=p()(this.companyDetails.trialExpirationDate).diff(p()(),"days");return t>=0}return!1},currentTariffFullText:function(){return this.currentTariff?this.$t(this.companyDetails.tariff):""},currentTariffText:function(){return this.currentTariff?this.$t("".concat(this.companyDetails.tariff,"_abbr")):""},isCurrentFree:function(){return this.currentTariff===l["h"].Free1},isCurrentMedium:function(){return this.currentTariff===l["h"].Medium1},isCurrentLarge:function(){return this.currentTariff===l["h"].Large1},trialRemainingDays:function(){if(this.companyDetails&&this.companyDetails.trialExpirationDate){var t=p()(this.companyDetails.trialExpirationDate).diff(p()(),"days");return t}return 0},remainingDays:function(){if(this.companyDetails&&this.companyDetails.tariffExpirationDate){if(this.companyDetails&&this.companyDetails.trialExpirationDate&&this.companyDetails.trialExpirationDate===this.companyDetails.tariffExpirationDate)return 0;var t=p()(this.companyDetails.tariffExpirationDate).diff(p()(),"days");return t}return 0},autoDate:function(){return this.companyDetails&&this.companyDetails.nextAutoPaymentDate?p()(this.companyDetails.nextAutoPaymentDate).format("DD.MM.YY"):""}}),mounted:function(){var t=s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.companyId){t.next=4;break}return t.next=3,this.fetchIndividualCompanyDetails({variables:{id:this.companyId,needPendingPayments:!0}});case 3:this.trackUserAction({actionName:"openCurrentTariffPage"});case 4:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),methods:d({},Object(f["b"])("auth",["trackUserAction"]),{},Object(f["b"])("company",["fetchIndividualCompanyDetails"]))},D=_,x=(r("9b53"),r("42e1")),C=Object(x["a"])(D,e,i,!1,null,"015f79aa",null);a["default"]=C.exports},"9b53":function(t,a,r){"use strict";var e=r("373a"),i=r.n(e);i.a}}]);