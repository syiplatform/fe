(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"1afb":function(t,e,a){},"9dd5":function(t,e,a){"use strict";var s=a("1afb"),n=a.n(s);n.a},bbb7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",{staticClass:"border-radius bg-white q-my-xs",class:t.$q.screen.lt.sm?"q-py-md":"q-py-lg"},[a("div",{class:t.$q.screen.lt.sm?"column":"row reverse"},[a("div",{class:t.$q.screen.lt.sm?"q-px-md q-py-sm full-width":"q-px-lg col-sm-4 col-xl-3"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("action_edit"),icon:"edit",color:"primary"},on:{click:function(e){return t.openCompanyForm(t.companyId)}}})],1),a("div",{class:t.$q.screen.lt.sm?"col q-px-md full-width":"col q-px-lg"},[a("q-field",{attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("field_name"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n              "+t._s(t.$t("field_name"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1"},[t._v(t._s(t.formModel.name))])]},proxy:!0}])}),a("q-field",{attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("field_company_path"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n              "+t._s(t.$t("field_company_path"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 path"},[t._v(t._s(t.formModel.finalPath))])]},proxy:!0}])}),t.currentUserIsSuperAdmin?t._e():a("q-banner",{staticClass:"bg-info text-white col-xs-12 text-caption border-radius",class:t.$q.screen.lt.lg?"q-my-md":"",attrs:{appear:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"more_horiz",color:"white"}})]},proxy:!0}],null,!1,1057225157)},[a("div",{staticClass:"row items-center"},[a("strong",{staticClass:"col-xs-12 col-lg"},[t._v("\n              "+t._s(t.$t("read_more_about_multicompany"))+"\n            ")]),a("q-btn",{staticClass:"col-xs-12 col-lg-auto",class:t.$q.screen.lt.lg?"q-mt-sm":"",attrs:{rounded:"",size:"md",outline:"",label:t.$t("open_instruction"),"icon-right":"arrow_right_alt",type:"a"},nativeOn:{click:function(e){return t.openURL(t.urls.blog.multipleCompanies)}}})],1)])],1)]),a("company-form")],1),a("q-card",{staticClass:"border-radius bg-white q-my-xs",class:t.$q.screen.lt.sm?"q-py-md":"q-py-lg"},[a("div",{staticClass:"q-pt-md",class:t.$q.screen.lt.sm?"column":"row reverse"},[a("div",{class:t.$q.screen.lt.sm?"q-px-md q-py-sm":"q-px-lg col-sm-4 col-xl-3"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("action_change_tariff"),to:{name:"tariffs",params:{companyId:t.companyId}},icon:"attach_money",color:"primary"},on:{click:function(e){return t.logClickEvent("change-tariff")}}})],1),a("div",{class:t.$q.screen.lt.sm?"col q-px-md":"col q-px-lg"},[a("q-field",{attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("tariff_current"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n              "+t._s(t.$t("tariff_current"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"col-xs-12 text-dark text-body1 relative-position"},[t.isCurrentTrial?a("q-chip",{staticClass:"text-grey-2 absolute-chip trial ellipsis",attrs:{dense:"",color:"warning"}},[t._v("\n                "+t._s(t.$t("tariff_is_trial_period"))+"\n              ")]):t._e(),t._v("\n              "+t._s(t.currentTariffText)+"\n            ")],1)]},proxy:!0}])}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentFree,expression:"isCurrentFree"}]},[t.currentUserIsSuperAdmin?t._e():a("q-banner",{staticClass:"bg-info text-white col-xs-12 col-sm-8 text-caption border-radius",class:t.$q.screen.lt.lg?"q-my-md":"",attrs:{appear:""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"stars",color:"white"}})]},proxy:!0}],null,!1,4149197870)},[a("div",{staticClass:"row items-center"},[a("strong",{staticClass:"col-xs-12 col-lg"},[t._v("\n                "+t._s(t.$t("tariff_try_trial"))+"\n              ")]),a("q-btn",{staticClass:"col-xs-12 col-lg-auto",class:t.$q.screen.lt.lg?"q-mt-sm":"",attrs:{rounded:"",size:"md",outline:"",label:t.$t("action_try"),"icon-right":"arrow_right_alt",to:{name:"tariffs",params:{companyId:t.companyId}},type:"a"},nativeOn:{click:function(e){return t.logClickEvent("try-trial-period")}}})],1)])],1),a("q-field",{directives:[{name:"show",rawName:"v-show",value:!t.isCurrentFree,expression:"!isCurrentFree"}],attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("tariff_expiration_date"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n              "+t._s(t.$t("tariff_expiration_date"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1"},[t._v("\n              "+t._s(t._f("dateTimeText")(t.companyDetails.tariffExpirationDate))+"\n            ")])]},proxy:!0}])}),a("q-field",{directives:[{name:"show",rawName:"v-show",value:!t.isCurrentFree,expression:"!isCurrentFree"}],attrs:{borderless:"",label:t.$q.screen.lt.sm?t.$t("tariff_remaining_days"):void 0,"stack-label":t.$q.screen.lt.sm},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"gt-xs text-subtitle1",staticStyle:{"min-width":"200px"}},[t._v("\n              "+t._s(t.$t("tariff_remaining_days"))+"\n            ")])]},proxy:!0},{key:"control",fn:function(){return[a("div",{staticClass:"text-dark text-body1 text-right"},[t._v("\n              "+t._s(t.remainingDays)+"\n            ")])]},proxy:!0}])})],1)])]),t.currentUserIsSuperAdmin?t._e():a("landing-creation-service",{attrs:{popuped:!0,text:t.$t("company_details_request")+" "+t.formModel.urlPath}}),a("q-card",{staticClass:"row border-radius bg-transparent q-my-xs",class:t.$q.screen.lt.sm?"q-py-md":"q-py-lg",attrs:{flat:""}},[a("div",{staticClass:"row col-xs-12 col-sm-4"},[a("div",{staticClass:"q-pa-sm col-xs-12"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("action_setup_landing"),to:{name:"landing-configuration",params:{companyId:t.companyId}},icon:"view_compact",color:"secondary"}})],1),a("div",{staticClass:"q-pa-sm col-xs-12"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("action_setup_calendar"),to:{name:"individual-calendar-config",params:{companyId:t.companyId}},icon:"tune",color:"primary"}})],1)]),a("div",{staticClass:"row col-xs-12 col-sm-8"},[a("div",{staticClass:"q-pa-sm col-xs-12 col-sm-auto"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("action_setup_client_requests"),to:{name:"individual-client-requests",params:{companyId:t.companyId}},icon:"business_center",color:"info"}})],1),a("div",{staticClass:"q-pa-sm col-xs-12 col-sm-auto"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("action_setup_store"),to:{name:"company-store",params:{companyId:t.companyId}},icon:"add_shopping_cart",color:"info"},on:{click:function(e){return t.logClickEvent("open-products")}}})],1),a("div",{staticClass:"q-pa-sm col-xs-12 col-sm-auto"},[a("q-btn",{staticClass:"full-width",attrs:{rounded:"",label:t.$t("insert_my_clients"),to:{name:"individual-client-base",params:{companyId:t.companyId}},icon:"people",color:"info"}})],1)])])],1)},n=[],o=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("96cf"),a("c973")),r=a.n(o),i=a("9523"),l=a.n(i),c=(a("c5f6"),a("1cb6")),m=a("7f45"),d=a.n(m),p=a("2f62"),u=a("5944"),f=a("ee47"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{value:t.isCompanyFormVisible,maximized:t.$q.screen.lt.sm},on:{"before-hide":t.cancel}},[a("q-layout",{staticClass:"bg-white text-grey-14",attrs:{view:"hhh lpr fFf",container:""}},[a("q-page-container",[a("q-page",{staticClass:"bg-white"},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"text-h5"},[t._v("\n              "+t._s(t.$t("company_edit_page_title"))+"\n            ")])]),a("div",{staticClass:"row q-px-lg"},[a("div",{staticClass:"col-xs-12 text-h6"},[t._v("\n            "+t._s(t.$t("field_name"))+"\n          ")]),a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",maxlength:"100","bottom-slots":"",label:t.$t("field_name"),error:t.$v.formModel.name.$error,"error-message":t.getErrorMessage(t.$v.formModel.name,t.t)},model:{value:t.formModel.name,callback:function(e){t.$set(t.formModel,"name","string"===typeof e?e.trim():e)},expression:"formModel.name"}})],1)]),a("div",{staticClass:"row q-px-lg q-pt-md"},[a("div",{staticClass:"col-xs-12 text-h6"},[t._v("\n            "+t._s(t.$t("company_hostname_type_title"))+"\n          ")]),a("div",{staticClass:"col-xs-12"},[t._v("\n            "+t._s(t.$t("company_form_after_save_final_path"))+":\n            "),a("span",{staticClass:"text-subtitle1 text-primary",domProps:{innerHTML:t._s(t.finalPath)}})]),a("q-banner",{staticClass:"col-xs-12 bg-warning text-grey-9 border-radius",scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"warning",color:"grey-9"}})]},proxy:!0}])},[t._v("\n            "+t._s(t.$t("landing_analytics_change_company_path"))+"\n          ")]),a("div",{staticClass:"col-xs-12 q-pt-sm q-pb-xs q-pl-sm q-ml-xs text-grey q-field__bottom"},[t._v("\n            "+t._s(t.$t("company_hostname_type_hint"))+"\n          ")]),a("div",{staticClass:"col-xs-12 q-pb-sm"},[a("q-btn-toggle",{staticClass:"col-xs-12 text-caption",attrs:{"toggle-color":"secondary",push:"",dense:"",rounded:"",spread:"",padding:"5px",options:t.hostnameTypesLocalizedOptions},model:{value:t.formModel.hostnameType,callback:function(e){t.$set(t.formModel,"hostnameType",e)},expression:"formModel.hostnameType"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.formModel.hostnameType===t.hostnameTypes.path,expression:"formModel.hostnameType === hostnameTypes.path"}],staticClass:"col-xs-12"},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_path")+"*",hint:t.$t("signup_company_company_path_hint"),maxlength:"50","bottom-slots":"",error:t.$v.formModel.urlPath.$error,"error-message":t.getErrorMessage(t.$v.formModel.urlPath,t.t)},model:{value:t.formModel.urlPath,callback:function(e){t.$set(t.formModel,"urlPath","string"===typeof e?e.trim():e)},expression:"formModel.urlPath"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.formModel.hostnameType===t.hostnameTypes.subdomain,expression:"formModel.hostnameType === hostnameTypes.subdomain"}],staticClass:"col-xs-12 row"},[a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_subdomain")+"*",hint:t.$t("signup_company_company_subdomain_hint"),"stack-label":"",maxlength:"50","bottom-slots":"",error:t.$v.formModel.subdomain.$error,"error-message":t.getErrorMessage(t.$v.formModel.subdomain,t.t)},model:{value:t.formModel.subdomain,callback:function(e){t.$set(t.formModel,"subdomain","string"===typeof e?e.trim():e)},expression:"formModel.subdomain"}})],1),a("div",{staticClass:"col-xs-12 q-pt-sm q-pb-xs q-pl-sm q-ml-xs text-grey q-field__bottom"},[t._v("\n              "+t._s(t.$t("company_form_confirm_domain"))+" "),a("br"),a("span",{staticClass:"text-subtitle1 text-primary",domProps:{textContent:t._s(t.metatag)}})]),a("div",{staticClass:"col-xs-12 col-sm-6",class:{"q-pr-xs":!t.$q.screen.lt.sm}},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_domain_meta_name"),"stack-label":"","hide-bottom-space":"",maxlength:"255","bottom-slots":"",error:t.$v.formModel.pageMetaName.$error,"error-message":t.getErrorMessage(t.$v.formModel.pageMetaName,t.t)},model:{value:t.formModel.pageMetaName,callback:function(e){t.$set(t.formModel,"pageMetaName","string"===typeof e?e.trim():e)},expression:"formModel.pageMetaName"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6",class:{"q-pl-xs":!t.$q.screen.lt.sm,"q-pt-xs":t.$q.screen.lt.sm}},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_domain_meta_content"),"stack-label":"","hide-bottom-space":"",maxlength:"255","bottom-slots":"",error:t.$v.formModel.pageMetaContent.$error,"error-message":t.getErrorMessage(t.$v.formModel.pageMetaContent,t.t)},model:{value:t.formModel.pageMetaContent,callback:function(e){t.$set(t.formModel,"pageMetaContent","string"===typeof e?e.trim():e)},expression:"formModel.pageMetaContent"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.formModel.hostnameType===t.hostnameTypes.clientDomain,expression:"formModel.hostnameType === hostnameTypes.clientDomain"}],staticClass:"col-xs-12 row"},[t.isMaxTariff?[a("q-banner",{staticClass:"bg-info text-white col-xs-12 text-caption border-radius q-mb-md",scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"help",color:"white"}})]},proxy:!0}])},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col-xs-12 col-lg text-center"},[t._v("\n                    "+t._s(t.$t("read_more_about_own_domain"))+"\n                  ")]),a("q-btn",{staticClass:"col-xs-12 col-lg-auto",class:t.$q.screen.lt.lg?"q-mt-sm":"",attrs:{rounded:"",size:"md",outline:"",label:t.$t("open_instruction"),type:"a",target:"_blank",href:t.urls.blog.ownDomain}})],1)]),a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_client_domain")+"*",hint:t.$t("signup_company_company_client_domain_hint"),"stack-label":"",maxlength:"50","bottom-slots":"",disable:!t.isMaxTariff,error:t.$v.formModel.clientDomain.$error,"error-message":t.getErrorMessage(t.$v.formModel.clientDomain,t.t)},model:{value:t.formModel.clientDomain,callback:function(e){t.$set(t.formModel,"clientDomain","string"===typeof e?e.trim():e)},expression:"formModel.clientDomain"}})],1),a("div",{staticClass:"col-xs-12 q-pt-sm q-pb-xs q-pl-sm q-ml-xs text-grey q-field__bottom"},[t._v("\n                "+t._s(t.$t("company_form_confirm_domain"))),a("br"),a("span",{staticClass:"text-subtitle1 text-primary",domProps:{textContent:t._s(t.metatag)}})]),a("div",{staticClass:"col-xs-12 col-sm-6",class:{"q-pr-xs":!t.$q.screen.lt.sm}},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_domain_meta_name"),"stack-label":"","hide-bottom-space":"",maxlength:"255","bottom-slots":"",disable:!t.isMaxTariff,error:t.$v.formModel.pageMetaName.$error,"error-message":t.getErrorMessage(t.$v.formModel.pageMetaName,t.t)},model:{value:t.formModel.pageMetaName,callback:function(e){t.$set(t.formModel,"pageMetaName","string"===typeof e?e.trim():e)},expression:"formModel.pageMetaName"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6",class:{"q-pl-xs":!t.$q.screen.lt.sm,"q-pt-xs":t.$q.screen.lt.sm}},[a("q-input",{attrs:{rounded:"",standout:"bg-grey-2 text-grey-14",label:t.$t("field_company_domain_meta_content"),"stack-label":"","hide-bottom-space":"",maxlength:"255","bottom-slots":"",disable:!t.isMaxTariff,error:t.$v.formModel.pageMetaContent.$error,"error-message":t.getErrorMessage(t.$v.formModel.pageMetaContent,t.t)},model:{value:t.formModel.pageMetaContent,callback:function(e){t.$set(t.formModel,"pageMetaContent","string"===typeof e?e.trim():e)},expression:"formModel.pageMetaContent"}})],1)]:a("q-banner",{staticClass:"col-xs-12 cursor-pointer bg-warning text-grey-9 border-radius",nativeOn:{click:function(e){return t.openTariffs(e)}},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"warning",color:"grey-9"}})]},proxy:!0}],null,!1,1495534361)},[t._v("\n              "+t._s(t.$t("company_domain_large_1"))+"\n            ")])],2)],1)])],1),a("q-footer",{staticClass:"bg-white row q-py-sm q-px-md"},[a("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:t.$q.screen.lt.sm?"order-last":"q-mr-sm",attrs:{rounded:"",label:t.$t("action_cancel"),color:"secondary",icon:"arrow_back"},on:{click:t.cancel}}),a("q-btn",{staticClass:"col-xs-12 col-sm-auto",class:t.$q.screen.lt.sm?"q-mb-sm":"q-mr-sm",attrs:{rounded:"",label:t.$t("action_save"),color:"primary",icon:"save"},on:{click:t.saveChanges}})],1)],1)],1)},h=[],g=(a("7f7f"),a("b5ae")),b=a("c98f"),_=a("d59f"),v=a("96fb"),x=function(t){var e=/[A-Za-z0-9](?:[A-Za-z0-9\\-]{0,61}[A-Za-z0-9])?/.test(t);return e},q=function(t){var e=/^[A-Za-z0-9](?:[A-Za-z0-9\\-]{0,30}[A-Za-z0-9])?$/.test(t);return e},C=a("a6c8"),$=a("aacf");function M(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var k={name:"CompanyForm",mixins:[u["a"]],data:function(){return{t:this.$t.bind(this),formModelKey:"companyFormDetails",hostnameTypes:C["a"],urls:$["a"],isPathChanged:!1,hostnameTypesLocalizedOptions:[{label:this.$t("hostname_types_path"),value:C["a"].path},{label:this.$t("hostname_types_subdomain"),value:C["a"].subdomain},{label:this.$t("hostname_types_domain"),value:C["a"].clientDomain}]}},computed:w({},Object(p["c"])("company",["companyUpdateErrorCode","companyFormDetails","companyDetails","companyId","isCompanyFormVisible"]),{isMaxTariff:function(){return!!this.companyDetails&&this.companyDetails.tariff===b["h"].Large1},finalPath:function(){if(this.formModel.hostnameType)if(this.formModel.hostnameType===C["a"].clientDomain){if(this.isMaxTariff)return"https://".concat(this.formModel.clientDomain||"<b>domain</b>")}else if(this.formModel.hostnameType===C["a"].subdomain)return"https://".concat(this.formModel.subdomain||"<b>subdomain</b>",".").concat("seeyour.local");return"".concat("https://seeyour.local:8080","/").concat(this.formModel.urlPath||"<b>path</b>")},metatag:function(){return this.formModel.pageMetaName&&this.formModel.pageMetaContent?'<meta name="'.concat(this.formModel.pageMetaName,'" content="').concat(this.formModel.pageMetaContent,'" />'):""}}),watch:{isCompanyFormVisible:function(){this.updateCompanyFormDetails()}},methods:w({},Object(p["b"])("auth",["trackUserAction"]),{logClickEvent:function(t){c["a"].logEvent("company-details-page","click",t,0,this.$router.currentRoute)},openTariffs:function(){c["a"].logEvent("company-tariffs-page","fromCompanyDetailsDomain","",0,this.$router.currentRoute),this.$router.push({name:"tariffs",params:{companyId:this.companyId}})},editIndividualCompany:function(){var t=r()(regeneratorRuntime.mark((function t(){var e,a,s,n,o,r,i,l,m,d,p,u,f,y,h,g,b,_,v,x,q,C,$,M,w,k,O;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.formModel,a=e.id,s=e.name,n=e.description,o=e.hostnameType,r=e.clientDomain,i=e.subdomain,l=e.urlPath,m=e.pageMetaName,d=e.pageMetaContent,p=e.websiteUrl,u=e.currency,f=e.activityType,y=e.email,h=e.phone,g=e.vk,b=e.facebook,_=e.instagram,v=e.telegram,x=e.whatsapp,q=e.viber,C=e.addressLine,$=e.timezone,M=e.locationId,w=this.companyDetails.addressLine,k=w===C?this.formModel.latitude:null,O=w===C?this.formModel.longitude:null,t.prev=4,t.next=7,this.updateIndividualCompany({variables:{company:{id:a,name:s,description:n,activityType:f,hostnameType:o,clientDomain:r,subdomain:i,urlPath:l,pageMetaName:m,pageMetaContent:d,websiteUrl:p,currency:u,phone:h,vk:g,facebook:b,instagram:_,telegram:v,whatsapp:x,viber:q},location:{id:M,email:y,phone:h,addressLine:C,timezone:$,latitude:k,longitude:O}}});case 7:this.companyUpdateErrorCode?this.$q.notify({type:"negative",message:this.$t(this.companyUpdateErrorCode)}):(this.trackUserAction({actionName:"updateProjectSettings"}),this.cancel(),this.$q.notify({type:"positive",message:this.$t("company_form_success_updated")}),c["a"].logEvent("company-details-page","updated-company-details","",0,this.$router.currentRoute)),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),this.$q.notify({type:"negative",message:this.$t("company_form_errors_can_not_save")});case 13:case"end":return t.stop()}}),t,this,[[4,10]])})));function e(){return t.apply(this,arguments)}return e}(),saveChanges:function(){var t=r()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateFormAndNotify()){t.next=2;break}return t.abrupt("return");case 2:this.editIndividualCompany();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$v.$reset(),this.hideCompanyForm()},getErrorMessage:_["a"]},Object(p["d"])("company",["hideCompanyForm","setCompanyId","updateCompanyFormDetails"]),{},Object(p["b"])("company",["updateIndividualCompany"])),validations:function(){var t={formModel:{name:{required:g["required"],maxLength:Object(g["maxLength"])(100)},urlPath:{minLength:Object(g["minLength"])(3),maxLength:Object(g["maxLength"])(50),urlPath:v["a"]},subdomain:{minLength:Object(g["minLength"])(3),maxLength:Object(g["maxLength"])(50),subdomain:q},clientDomain:{minLength:Object(g["minLength"])(3),maxLength:Object(g["maxLength"])(50),clientDomain:x},pageMetaName:{minLength:Object(g["minLength"])(3),maxLength:Object(g["maxLength"])(50)},pageMetaContent:{minLength:Object(g["minLength"])(3),maxLength:Object(g["maxLength"])(50)}}};switch(this.formModel.hostnameType){case C["a"].path:t.formModel.urlPath.required=g["required"];break;case C["a"].subdomain:t.formModel.subdomain.required=g["required"];break;case C["a"].clientDomain:t.formModel.clientDomain.required=g["required"];break;default:break}return t}},O=k,D=a("42e1"),j=Object(D["a"])(O,y,h,!1,null,null,null),T=j.exports,I=a("f8b0"),P=a("b06b");function F(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?F(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var L={name:"CompanyDetails",mixins:[u["a"],f["a"]],props:{companyId:[Number,String],required:!0},components:{CompanyForm:T,landingCreationService:I["a"]},meta:function(){return{title:this.pageTitle}},data:function(){return{formModelKey:"companyDetails",urls:$["a"]}},computed:E({},Object(p["c"])("company",["companyDetails"]),{},Object(p["c"])("auth",["currentUserIsSuperAdmin"]),{pageTitle:function(){var t="";return this.companyDetails&&(t=this.companyDetails.urlPath),this.$t("company_details_page_title",{project:t})},isNotFetched:function(){return!0},currentTariff:function(){return this.companyDetails?this.companyDetails.tariff:null},isCurrentFree:function(){return this.currentTariff===b["h"].Free1},currentTariffText:function(){return this.currentTariff?this.$t(this.companyDetails.tariff):null},remainingDays:function(){if(this.companyDetails&&this.companyDetails.tariffExpirationDate){var t=d()(this.companyDetails.tariffExpirationDate).diff(d()(),"days");return t}return 0},isCurrentTrial:function(){if(this.companyDetails){var t=d()(this.companyDetails.trialExpirationDate).diff(d()(),"days");return t>=0}return!1}}),beforeRouteUpdate:function(t,e,a){e.params.companyId!==t.params.companyId&&this.fetchIndividualCompanyDetails({variables:{id:t.params.companyId}}),a()},mounted:function(){this.trackUserAction({actionName:"openProjectSettingsPage"})},methods:E({},Object(p["b"])("auth",["trackUserAction"]),{},Object(p["b"])("company",["fetchIndividualCompanyDetails"]),{},Object(p["d"])("company",["showCompanyForm","showCompanyMediaForm","setCompanyId"]),{},Object(p["d"])("image",["showImageForm"]),{openURL:P["a"],fetch:function(){var t=r()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchIndividualCompanyDetails({variables:{id:this.companyId}});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openImageForm:function(){this.showImageForm()},openCompanyForm:function(t){t&&this.setCompanyId(t),this.showCompanyForm()},openCompanyMediaForm:function(t){t&&this.setCompanyId(t),this.showCompanyMediaForm()},logClickEvent:function(t){c["a"].logEvent("company-details-page","click",t,0,this.$router.currentRoute)}})},S=L,N=(a("9dd5"),Object(D["a"])(S,s,n,!1,null,null,null));e["default"]=N.exports}}]);