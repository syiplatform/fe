(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[73],{5555:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:""}},[n("div",{staticClass:"bg-white border-radius"},[n("div",{staticClass:"q-pa-sm row"},[n("div",{staticClass:"text-h5 q-pa-md"},[e._v("\n        "+e._s(e.$t("feedback_list_admin_title"))+"\n      ")])]),n("q-table",{attrs:{"row-key":"id",data:e.items,columns:e.columns,loading:e.loading,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"loading",fn:function(){return[n("q-inner-loading",{attrs:{showing:"",color:"primary"}})]},proxy:!0},{key:"body-cell-companyId",fn:function(t){return n("q-td",{attrs:{props:t}},[n("a",{staticClass:"no-underline",attrs:{href:e.urls.websiteUrl+"/individual/"+t.row.companyId+"/details",target:"_blank"}},[e._v("\n            "+e._s(t.value)+"\n            "),n("q-icon",{attrs:{name:"launch"}})],1)])}},{key:"body-cell-userId",fn:function(t){return n("q-td",{attrs:{props:t}},[n("a",{staticClass:"no-underline",attrs:{href:e.urls.websiteUrl+"/user/"+t.row.userId+"/user-feedback",target:"_blank"}},[e._v("\n            "+e._s(t.value)+"\n            "),n("q-icon",{attrs:{name:"launch"}})],1)])}},{key:"body-cell-action",fn:function(t){return n("q-td",{attrs:{props:t}},["pending"===t.row.status?n("div",{staticClass:"row"},[n("q-btn",{staticClass:"col-xs-12",attrs:{size:"sm",color:"primary"},on:{click:function(n){return e.confirm(+t.row.id)}}},[e._v("\n            "+e._s(e.$t("feedback_action_confirm"))+"\n          ")]),n("q-btn",{staticClass:"col-xs-12 q-mt-sm",attrs:{size:"sm",color:"negative"},on:{click:function(n){return e.decline(t.row.id)}}},[e._v("\n            "+e._s(e.$t("feedback_action_decline"))+"\n          ")])],1):e._e()])}}])})],1)])},r=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("96cf"),n("c973")),s=n.n(i),c=n("9523"),o=n.n(c),l=n("c1df"),f=n.n(l),u=n("2f62"),d=n("aacf"),b=n("ee47"),m=n("5334");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"FeedbackList",mixins:[b["a"]],data:function(){var e=this;return{urls:d["a"],loading:!1,columns:[{name:"createdAt",label:this.$t("field_created_at"),field:"createdAt",align:"left",sortable:!0,format:function(e){return f()(e).tz("Europe/Saratov").format("DD/MM/YYYY HH:mm:ss")}},{name:"senderName",label:this.$t("field_name"),field:"senderName",align:"left",sortable:!0},{name:"feedbackPlatform",label:this.$t("field_feedback_platform"),field:"feedbackPlatform",align:"left",sortable:!0},{name:"tariff",label:this.$t("tariff"),field:"tariff",align:"left",sortable:!0,format:function(t){return e.$t(t)}},{name:"payDays",label:this.$t("field_payDays"),field:"payDays",align:"left",sortable:!0},{name:"companyId",label:this.$t("field_company"),field:"companyId",align:"left",sortable:!0},{name:"userId",label:this.$t("field_user"),field:"userId",align:"left",sortable:!0},{name:"status",label:this.$t("field_status"),field:"status",align:"left",sortable:!0,format:function(t){return e.$t("feedback_status_".concat(t))}},{name:"action",label:this.$t("field_action"),field:"action",align:"left",sortable:!0}],pagination:{sortBy:"createdAt",descending:!0,page:1,rowsPerPage:25,rowsNumber:0}}},computed:h({},Object(u["c"])("auth",["currentUserId","currentUserTimezone"]),{},Object(u["c"])("feedback",{items:"feedbackPagedListItems",totalCount:"feedbackPagedListCount"}),{},Object(u["c"])("feedback",["feedbackConfirmError","feedbackDeclineError"])),methods:h({},Object(u["b"])("feedback",["fetchFeedbackPagedList","confirmFeedback","declineFeedback"]),{fetch:function(){var e=s()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=t||this.pagination,e.next=3,this.fetchFeedbackPagedList({variables:h({},Object(m["a"])(t))});case 3:Object(m["b"])(this.pagination,t,this.totalCount);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onRequest:function(){var e=s()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(t.pagination);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),confirm:function(e){var t=this;this.$q.dialog({title:this.$t("feedback_action_confirm_confirmation"),ok:this.$t("Yes"),cancel:this.$t("No")}).onOk(s()(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.confirmFeedback({variables:{id:e}});case 2:if(!t.feedbackConfirmError){n.next=6;break}t.$q.notify({type:"negative",message:t.$t(t.feedbackConfirmError)}),n.next=8;break;case 6:return n.next=8,t.fetch();case 8:case"end":return n.stop()}}),n)}))))},decline:function(){var e=s()(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$q.dialog({title:this.$t("feedback_action_decline_confirmation"),ok:this.$t("Yes"),cancel:this.$t("No")}).onOk(s()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.declineFeedback({variables:{id:t}});case 2:if(!n.feedbackDeclineError){e.next=6;break}n.$q.notify({type:"negative",message:n.$t(n.feedbackDeclineError)}),e.next=8;break;case 6:return e.next=8,n.fetch();case 8:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},k=g,w=n("42e1"),y=Object(w["a"])(k,a,r,!1,null,null,null);t["default"]=y.exports}}]);